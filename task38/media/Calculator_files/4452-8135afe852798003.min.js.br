"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="7b9b4475-9b51-56f5-b0b4-b0e82e74cf88")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[4452],{710166:(e,t,a)=>{a.d(t,{$h:()=>u,KY:()=>_,M2:()=>s,Mc:()=>i,P_:()=>d,U0:()=>g,cp:()=>p,eF:()=>l,h4:()=>m,jR:()=>o,lF:()=>r,nF:()=>n,x1:()=>c});let s="seat_requests_page--requestsContainer--q73qM",n="seat_requests_page--fileBrowserContentContainer--XDLHx",r="seat_requests_page--fileBrowserScrollableContainer--jtzUg",i="seat_requests_page--avatarColumn--wdn4J seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",l="seat_requests_page--seatTypeColumn--x7oeW seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",o="seat_requests_page--requestedColumn---Spog seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",d="seat_requests_page--noteColumn--bkuO1 seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",c="seat_requests_page--dropdownScrollClip--BcpC0",u="seat_requests_page--actionBarButtons--Bt0Es",m="seat_requests_page--actionBarHasContent--Sumt5",_="seat_requests_page--actionBar--Q-X0n",p="seat_requests_page--nudgedRequested--KqdrK",g="seat_requests_page--avatarWithHandle--NwRGw"},559083:(e,t,a)=>{a.d(t,{$J:()=>c,KJ:()=>m,UD:()=>_,Un:()=>u,_f:()=>l,b:()=>o,dv:()=>n,gr:()=>r,jy:()=>d,u1:()=>p,ut:()=>s,v0:()=>i});let s="change_payment_modal--paymentModal--MaB-C",n="change_payment_modal--paymentModalHeader--slkgQ",r="change_payment_modal--paymentModalTitle--P5--Q text--fontPos18--rYXJb text--_fontBase--QdLsd",i="change_payment_modal--buttonRow--yFmfo modal--buttonRow--o2A0S",l="change_payment_modal--buttonRowLeft--QISQ5",o="change_payment_modal--closeButton--qw-3Q",d="change_payment_modal--errorBanner--7rLae",c="change_payment_modal--fixedHeightContainer--1e6gQ",u="change_payment_modal--errorContainer--X086-",m="change_payment_modal--formContainer--i6NlA",_="change_payment_modal--buttonContainer--N43qb",p="change_payment_modal--spinner--8cm5-"},846771:(e,t,a)=>{if(a.d(t,{A$:()=>_,BC:()=>v,D3:()=>c,Td:()=>y,V4:()=>g,W4:()=>b,Z4:()=>f,aN:()=>p,kl:()=>m,uH:()=>u,x9:()=>h}),443==a.j)var s=a(95419);var n=a(601108),r=a(27355),i=a(303541),l=a(847597),o=a(845611);a(514043);var d=a(129884),c=(e=>(e.AVAILABLE_SEAT="available_seat",e.PRORATION_NOT_ENABLED="proration_not_enabled",e.MISSING_CURRENCY="missing_currency",e.MISSING_PRICE="missing_price",e.COST_MESSAGING_DISABLED="cost_messaging_disabled",e))(c||{});let u="admin_requests_dashboard",m="admin_seat_requests_page",_="admin_request_flyout",p=(0,r.eU)(!1),g=(0,r.eU)(new Set);function h(e,t,a){return!!(0,n.k)().ff_async_upgrade_request_approvals||(e||t.length>5)&&a}let x=e=>e.reduce((e,t)=>{let a=t.billableProductKey;return e[a]=(e[a]??0)+1,e},{});function f(e,t){let a=x(e);return Object.keys(a).some(e=>(0,s.Vq)(t[e])&&t[e]<a[e])}var v=(e=>(e.REQUESTED="request",e))(v||{});function b(e){return e?{columnName:"request",isReversed:e===o.i5.OLDEST_FIRST}:{columnName:"",isReversed:!1}}function y(e,t,a,s){return a||void 0===t||"cost_messaging_disabled"===t.reason?{"data-tooltip":void 0,"data-tooltip-type":void 0}:{"data-tooltip":null===t.price&&"available_seat"===t.reason?s?(0,i.t)("admin_dashboard.requests.approve.no_cost_associated"):(0,i.t)("admin_dashboard.requests.approve.seat_paid_for"):t.price&&s?(0,i.t)("admin_dashboard.requests.approve.cost_associated",{seatType:(0,l.tI)(e),seatCost:t.price}):(0,i.t)("admin_dashboard.requests.approve.adds_paid_seat",{seatType:(0,l.tI)(e)}),"data-tooltip-type":d.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0}}},396452:(e,t,a)=>{a.d(t,{Rj:()=>y,Zu:()=>E,eS:()=>b});var s=a(486106),n=a(514228),r=a(82433),i=a(153916),l=a(858013),o=a(617427),d=a(303541);if(443==a.j)var c=a(780544);var u=a(16237),m=a(304860);if(443==a.j)var _=a(845611);var p=a(929976),g=a(370443),h=a(386952),x=a(191312),f=a(712921),v=a(650409);function b(){let e=(0,n.wA)(),t=(0,h.z3)();return"orgAdminSettings"!==t&&"seatRequests"!==t?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(o.$z,{variant:"secondary",onClick:()=>{e(p.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:v.J7.ACTIVITY,activityTabInitialEventOptionId:"activity_log.filter.upgrade_requests_and_activity"}))},htmlAttributes:{"data-testid":"admin-dashboard-view-history-button"},trackingProperties:{trackingDescriptor:g.c.VIEW_HISTORY},children:(0,d.t)("admin_dashboard.requests.view_history")})}function y({planId:e,planType:t,configuredUpgradeRequestSetting:a}){return t===_.ps.TEAM?(0,s.jsx)(j,{}):(0,s.jsx)(I,{orgId:e,configuredUpgradeRequestSetting:a})}function j(){let e=(0,n.wA)(),t=(0,n.d4)(e=>e.teamBilling),a=t.summary.currency,r=t.summary.monthly_subscription?f.IX.MONTH:f.IX.YEAR,i=(0,u.u)();return(0,s.jsx)(o.$z,{htmlAttributes:{"data-testid":"admin-dashboard-approval-settings-button","data-onboarding-key":c.qf},onClick:(0,m.S)({dispatch:e,currency:a,renewalTerm:r}),variant:"secondary",trackingProperties:{trackingDescriptor:g.c.APPROVAL_SETTINGS},trackingOptions:i,children:(0,d.tx)("admin_dashboard.requests.approval_settings")})}function I({orgId:e,configuredUpgradeRequestSetting:t}){let a=(0,n.wA)(),r=(0,i.Xf)(e),l=r.data?.currency,_=t===x.Sm.ALL_USERS?(0,m.d)({dispatch:a}):(0,m.S)({dispatch:a,currency:l,renewalTerm:f.IX.YEAR,isCurfEnabledForMembers:t===x.Sm.MEMBERS}),p=(0,u.u)();return(0,s.jsx)(o.$z,{htmlAttributes:{"data-testid":"admin-dashboard-approval-settings-button","data-onboarding-key":c.qf},onClick:_,variant:"secondary",trackingProperties:{trackingDescriptor:g.c.APPROVAL_SETTINGS},trackingOptions:p,children:(0,d.tx)("admin_dashboard.requests.approval_settings")})}function E({text:e,showSpinner:t}){return(0,s.jsxs)("div",{className:"x78zum5 x6s0dn4 xl56j7k",children:[(0,s.jsx)("div",{...r.xk(T.text,t&&T.invisibleText),children:e}),t&&(0,s.jsx)(l.kt,{shouldMatchTextColor:!0,size:"small",className:"x10l6tqk"})]})}let T={text:{margin:"x1bpp3o7",marginInline:null,marginInlineStart:null,marginLeft:null,marginInlineEnd:null,marginRight:null,marginBlock:null,marginTop:null,marginBottom:null,$$css:!0},invisibleText:{visibility:"xlshs6z",$$css:!0}}},428395:(e,t,a)=>{a.d(t,{E:()=>d});var s=a(486106),n=a(7378);if(443==a.j)var r=a(53857);var i=a(27355),l=a(515088),o=a(845611);function d({refreshNonce:e,refreshTabCountNonce:t,viewableBillingGroupIds:a,planType:d,planId:c,managedRequests:u,showAllOrgRequests:m,selectedRequestView:_,processedRequestIds:p,showBillingGroupAdminRequests:g,isOrgAdmin:h}){let[x,f]=(0,i.fp)(l.Y),v=m||g,b=v?[d,c,u].toString():[d,c].toString(),y=(0,n.useMemo)(()=>JSON.stringify(v?{refreshNonce:e,refreshTabCountNonce:t,billing_group_ids:u?a:null}:{refreshNonce:e,billing_group_ids:h?[null]:[]}),[e,t,u,a,v,h]),j=(0,o.z7)({planType:d,planId:c,filterParams:y,processedRequestIds:p}),[I,E]=(0,n.useState)(null);return n.useEffect(()=>{if(null!==j&&(E(j.length),u)){let e={...x};e[b]=j.length,f(e)}},[j,b]),null!==I&&(j?.length!==0||m)&&(0,s.jsx)(r.E,{variant:u&&_===o.V7.ALL_MANAGED_REQUESTS||!u&&_===o.V7.ALL_ORG_REQUESTS?"brandOutline":"defaultFilled","data-testid":"table-row-count-badge",children:I.toString()})||(0,s.jsx)("div",{})}},791117:(e,t,a)=>{a.d(t,{s:()=>u,u:()=>m});var s=a(7378),n=a(514228);if(443==a.j)var r=a(934246);var i=a(612521),l=a(303541),o=a(302958),d=a(576487),c=a(28323);function u(){let e=(0,n.wA)();return{dispatchSuccess:({approve:t,numRequests:a,asyncUpdate:s})=>{let n=t?(0,l.t)("admin_dashboard.requests.success_approve_seat_changed",{numRequests:a}):(0,l.t)("admin_dashboard.requests.success_deny_multiple",{numRequests:a});t&&s&&(n=(0,l.t)("admin_dashboard.requests.success_approve_seat_changed_async",{numRequests:a})),e(o.F.enqueue({message:n,icon:t?d.zX.CHECK_WITH_CIRCLE:void 0,type:t?"requests-approved":"requests-denied",onDismiss:r.lQ}))},dispatchSuccessWithRequesterName:({requesterName:t})=>{e(o.F.enqueue({message:(0,l.t)("admin_dashboard.requests.success_approve_with_name",{requesterName:t}),icon:d.zX.CHECK_WITH_CIRCLE,type:"requests-approved",onDismiss:r.lQ}))},dispatchRequestAlreadyHandled:()=>{e(o.F.enqueue({message:(0,l.t)("admin_dashboard.requests.this_request_has_already_been_handled"),type:"requests-approved"}))},dispatchProcessingError:({multiple:t})=>{e(o.F.enqueue({message:t?(0,l.t)("admin_dashboard.requests.error_multiple"):(0,l.t)("admin_dashboard.requests.error_single"),error:!0,button:{text:(0,l.t)("admin_dashboard.requests.error_reload"),action:()=>{i.Ay.reload("Admin requests dashboard error")}}}))},dispatchGenericError:()=>{e(o.F.enqueue({message:(0,l.t)("admin_dashboard.requests.error_generic"),error:!0,button:{text:(0,l.t)("admin_dashboard.requests.error_reload"),action:()=>{i.Ay.reload("Admin requests dashboard error")}}}))}}}function m(e,t){let a=(0,n.wA)();(0,s.useEffect)(()=>{e&&!t&&a(c.Jt({forceRefetch:!0}))},[a,e,t])}},550447:(e,t,a)=>{a.d(t,{n:()=>h});var s=a(7378),n=a(514228);if(443==a.j)var r=a(95419);var i=a(153916),l=a(594947),o=a(618031),d=a(457899),c=a(846771),u=a(48052),m=a(990058),_=a(513035),p=a(514043),g=a(421473);function h(e,t){let a=(0,n.wA)(),{getDynamicConfig:h}=(0,l.Fj)("disable_cost_messaging_config"),{seatAvailability:x}=(0,u.k)(e),f=(0,o.k)(),[v,b]=(0,s.useState)(),y=e.key.type===g.OL.ORG,j=(0,i.Xf)(e.key.parentId,y),I=(0,n.d4)(e=>e.teamBilling),E=y?j.data?.currency:I.summary.currency;(0,s.useEffect)(()=>{async function s(){b(await a(m.I1({orgId:e?.key.parentId??"",userId:t?.userId??""})))}y&&s()},[a,y,e?.key.parentId,e?.key.type,t?.userId]);let T=(y?v?.active_seat_type?.key:t?.currentSeat.billableProductKey)??_.Gu.VIEW,S=y?void 0:t?.currentSeat.billingInterval,A=(0,d.un)({planKey:e.key,currentSeatType:T,currentSeatBillingInterval:S,enabled:!!E});return{calculateCostForSeatTypeIncrease:(0,s.useCallback)(()=>{let e=t?.billableProductKey,a=x[e]??!1;if(h().get(t?.email??"",!1))return{price:null,reason:c.D3.COST_MESSAGING_DISABLED};if(void 0===E)return{price:null,reason:c.D3.MISSING_CURRENCY};if("loaded"!==A.status||null===A.data)return;if(a)return{price:null,reason:c.D3.AVAILABLE_SEAT};if(!f)return{price:null,reason:c.D3.PRORATION_NOT_ENABLED};let s=A.data[e]?.amount;return(0,r.uy)(s)?{price:null,reason:c.D3.MISSING_PRICE}:{price:new p.vr(E).formatMoney(s,{showCents:!1})}},[t?.billableProductKey,t?.email,x,h,E,A.status,A.data,f]),status:A.status}}},48052:(e,t,a)=>{a.d(t,{k:()=>i});var s=a(80683),n=a(332483);let r=n.Ye.dict(()=>0);function i(e){let t=(0,s.hY)(e.key.parentId??"",e.key.type);return{seatAvailability:"loaded"===t.status?n.Ye.dict(e=>t.data[e]?.available??0):r,status:t.status}}},420937:(e,t,a)=>{a.d(t,{W:()=>h});var s=a(486106),n=a(514228),r=a(437088),i=a(38914),l=a(272243),o=a(153916),d=a(617427),c=a(303541),u=a(156213),m=a(370443),_=a(831799),p=a(421473),g=a(696396);let h=(0,a(102752).Ju)(function(e){let t;let a=r.hS({open:e.open,onClose:e.onClose}),h=(0,n.wA)(),x=(0,o.Xf)(e.plan.key.parentId,e.plan.key.type!==p.OL.TEAM),f=(0,n.d4)(e=>e.teamBilling),v=e.plan.key.type===p.OL.TEAM?f.summary.currency:x.data?.currency,b=()=>h(u.Ce());return t=!v||e.isELA?e.filteredRowCount!==e.numRequestsToApprove?(0,s.jsx)("p",{children:(0,c.tx)(1===e.numRequestsToApprove?"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.single":"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.multiple",{numFilteredRequests:e.numRequestsToApprove-e.filteredRowCount,numRequests:e.numRequestsToApprove})}):(0,s.jsx)("p",{children:(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.body.no_cost",{numRequests:e.numRequestsToApprove})}):(0,s.jsxs)(s.Fragment,{children:[e.filteredRowCount!==e.numRequestsToApprove&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:(0,c.tx)(1===e.numRequestsToApprove?"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.single":"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.multiple",{numFilteredRequests:e.numRequestsToApprove-e.filteredRowCount,numRequests:e.numRequestsToApprove})}),(0,s.jsx)("br",{})]}),(0,s.jsx)("p",{children:(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.body")})]}),(0,s.jsx)(i.bL,{manager:a,width:"lg",children:(0,s.jsx)(_.fu,{name:g.e0.APPROVE_ALL_CONFIRMATION_MODAL,properties:{planType:e.plan.key.type,planId:e.plan.key.parentId,entryPoint:e.entryPoint},children:(0,s.jsxs)(l.vo,{children:[(0,s.jsx)(l.Y9,{children:(0,s.jsx)(l.hE,{children:(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.title")})}),(0,s.jsx)(l.nB,{children:t}),(0,s.jsx)(l.wi,{children:(0,s.jsxs)(l.jk,{children:[(0,s.jsx)(d.$z,{variant:"secondary",onClick:b,trackingProperties:{trackingDescriptor:m.c.CANCEL},children:(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.cancel")}),(0,s.jsx)(d.$z,{variant:"primary",onClick:()=>{b(),e.onConfirm()},trackingProperties:{trackingDescriptor:m.c.APPROVE_ALL},children:(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.approve_number_of_requests",{numRequests:e.numRequestsToApprove})})]})})]})})})},"ApproveAllConfirmationModal")},114445:(e,t,a)=>{a.d(t,{m:()=>ei});var s=a(486106),n=a(7378),r=a(514228),i=a(165054),l=a(288654),o=a(723791),d=a(589278),c=a(618031),u=a(846771),m=a(550447),_=a(82228),p=a(688074),g=a(990058),h=a(240735),x=a(513035),f=a(603561),v=a(191312),b=a(43951),y=a(465071),j=a(27355),I=a(617427),E=a(303541),T=a(396452),S=a(16237),A=a(370443);function w({onClose:e,onApprove:t,onDecline:a,requestId:n}){let r=(0,j.md)(u.aN),i=(0,j.md)(u.V4),l=!!r||i.has(n),o=(0,S.u)();return(0,s.jsxs)("div",{className:d.s.wFull.flex.flexColumn.gap8.$,children:[(0,s.jsx)(I.lR,{onClick:()=>{t(),e()},disabled:l,trackingProperties:{trackingDescriptor:A.c.APPROVE},trackingOptions:o,children:(0,s.jsx)(T.Zu,{text:(0,E.t)("admin_dashboard.request_flyout.approve"),showSpinner:"approving"===r&&i.has(n)})}),(0,s.jsx)(I.lR,{onClick:()=>{a(),e()},variant:"secondary",disabled:l,trackingProperties:{trackingDescriptor:A.c.DECLINE},trackingOptions:o,children:(0,s.jsx)(T.Zu,{text:(0,E.t)("admin_dashboard.request_flyout.decline"),showSpinner:"declining"===r&&i.has(n)})})]})}a(82433);var N=a(449184),C=a(930338),R=a(986103),k=a(490799),q=a(750789),O=a(941192),L=a(599327),M=a(11182),P=a(521428),D=a(37128),F=a(794163),B=a(153916),U=a(149367);function G({seatType:e,seatCostResult:t,isProrationBillingEnabled:a,planUser:n}){let i=(0,r.wA)(),l=(0,y.S2)().unwrapOr(null),o=t.reason===u.D3.AVAILABLE_SEAT,d=o?(0,s.jsx)(D.y,{}):(0,s.jsx)(F.S,{}),c=l?.key.type===v.OL.ORG,m=(0,B.Xf)(l?.key.parentId,l?.key.type!==v.OL.TEAM),_=(0,r.d4)(e=>e.teamBilling),p=l?.key.type===v.OL.TEAM?_.summary.currency:m.data?.currency;return(0,s.jsxs)("div",{style:O.sx.flex.itemsCenter.justifyBetween.flexRow.p8.pr16.gap4.wAuto.bRadius5.textBodyMediumStrong.if(o,O.sx.colorBgSelected,O.sx.colorBgSecondary).$,"data-testid":"seat-cost-info",children:[(0,s.jsxs)("div",{style:O.sx.flex.flexRow.itemsCenter.justifyBetween.gap4.$,children:[d,(0,s.jsx)("div",{children:o?c?(0,E.tx)("admin_dashboard.request_flyout.seat_cost.no_cost_for_approval"):(0,E.tx)("admin_dashboard.request_flyout.seat_cost.this_will_use_available_seat",{seatType:(0,L.tI)(e)}):a&&t.price?(0,E.tx)("admin_dashboard.request_flyout.seat_cost.cost_associated_to_approval",{seatType:(0,L.tI)(e),seatCost:t.price}):(0,E.tx)("admin_dashboard.request_flyout.seat_cost.cost_associated_to_approval_no_price",{seatType:(0,L.tI)(e)})})]}),!!n.currentSeat&&(0,s.jsx)(P.$n,{onClick:()=>(0,U.E1)({currency:p,dispatch:i,planUser:{id:n.id,userId:n.user.id,name:n.user.name,handle:n.user.handle,currentSeatType:n.currentSeat},nextSeatType:e,hideFooter:!0}),variant:"link",children:(0,s.jsx)("p",{style:O.sx.textBodyMedium.$,children:(0,E.tx)("admin_dashboard.request_flyout.seat_cost.see_details")})})]})}function V({label:e,value:t,onClick:a}){let n=(0,s.jsx)(q.G,{className:"xh8yej3 xdpxx8g",text:t??"-"});return(0,s.jsxs)("div",{className:d.s.flex.flexColumn.overflowBreakWord.textBodyMedium.$,children:[(0,s.jsx)("div",{className:d.s.colorTextSecondary.$,children:e}),a?(0,s.jsx)(I.e6,{className:"xt0psk2 xh8yej3 x1e9o9zf xt0b8zv",onClick:a,children:n}):n]})}function $({request:e,lastActiveValue:t,billingGroupName:a,currentSeatValue:n}){let i;let l=(0,r.wA)(),o=(0,C.Zr)((0,R.Ak)(e.createdAt)),d=(0,s.jsx)(V,{label:(0,E.t)("admin_dashboard.request_flyout.body.email"),value:e.email,onClick:e.email?t=>{t.stopPropagation(),e.email&&l(M.II({emailList:[e.email]}))}:void 0}),c=(0,s.jsx)(V,{label:(0,E.t)("admin_dashboard.request_flyout.body.role"),value:e.jobTitle&&(0,C.Ay)(e.jobTitle)}),u=(0,s.jsx)(V,{label:(0,E.t)("admin_dashboard.request_flyout.body.request_sent"),value:o}),m=(0,s.jsx)(V,{label:(0,E.t)("admin_dashboard.request_flyout.body.current_seat"),value:n?(0,L.JT)(n):"-"}),_=(0,C.Zr)((0,R.Ak)(t)),p=(0,s.jsx)(V,{label:(0,E.t)("admin_dashboard.request_flyout.body.last_active"),value:t?_:"-"});return i=a?[[d,c,p],[(0,s.jsx)(V,{label:(0,E.t)("admin_dashboard.request_flyout.body.billing_group"),value:a}),m,u]]:[[d,m,u],[c,p]],(0,s.jsx)("div",{style:O.sx.flex.gap24.p16.colorBorder.b1.add({borderRadius:"13px"}).$,children:i.map((e,t)=>(0,s.jsx)("div",{style:O.sx.add({width:"calc((100% - 56px)/2)"}).flex.flexColumn.flex1.gap24.$,children:e},`requestInfoColumn${t}`))})}function W({failedToLoadPrices:e}){return(n.useEffect(()=>{e&&(0,N.sx)("seat_purchasing.non_blocking_fetch_error",{price_fetch_error:e,view:"request_flyout"},{forwardToDatadog:!0})},[e]),e)?(0,s.jsx)(k._,{dataTestId:"pricing-error-banner",color:k.S.WARNING,padding:8,text:(0,E.tx)("admin_dashboard.request_flyout.price_fetching_error")}):null}function z({request:e,planUser:t,billingGroupName:a,seatCostResult:n,shouldHideSeatCostInfo:r,isProrationBillingEnabled:i,failedToLoadPrices:l}){return(0,s.jsxs)("div",{className:d.s.flex.flexColumn.hFull.justifyBetween.gap16.mb8.$,"data-testid":"request-flyout-body",children:[(0,s.jsx)("div",{className:d.s.flex.flexColumn.gap24.$,children:(0,s.jsx)($,{request:e,billingGroupName:a,lastActiveValue:t.lastActive,currentSeatValue:t.currentSeat})}),(0,s.jsxs)("div",{children:[!r&&!!n&&(0,s.jsx)(G,{seatType:e.billableProductKey,seatCostResult:n,isProrationBillingEnabled:i,planUser:t}),(0,s.jsx)(W,{failedToLoadPrices:l})]})]})}var H=a(53857),Q=a(936515),Y=a(536384),K=a.n(Y),X=a(590952);let J="request_flyout--secondaryIcon--lhrXO";function Z({request:e}){let t=e.name||e.email||(0,E.t)("admin_dashboard.requests.no_name"),a=(0,R.Ak)(e.updatedAt),n={id:e.userId,name:t,email:e.email??"",imgUrl:e.imgUrl??""};return(0,s.jsxs)("div",{"data-testid":"request-flyout-header",className:d.s.flex.flexColumn.gap16.$,children:[(0,s.jsxs)("div",{className:"request_flyout--avatarContainer--S-J9Y",children:[(0,s.jsx)(X.H8,{size:48,user:n}),e.hasBeenNudged?(0,s.jsx)("div",{className:K()(J,"request_flyout--reminderIcon--YYAB2"),"data-testid":"seat-requests-flyout-avatar-reminder",children:(0,s.jsx)(Q.O,{style:O.sx.add({rotate:"35deg",marginLeft:"-2px",marginTop:"-2px"}).$})}):(0,s.jsx)("div",{className:K()(J,"request_flyout--planIcon--3ad7j"),"data-testid":"seat-requests-flyout-avatar-seat-type",children:(0,s.jsx)(U.BC,{type:e.billableProductKey,removeBackgroundColor:!0,size:"16"})})]}),(0,s.jsxs)("div",{className:d.s.flex.flexColumn.$,children:[(0,s.jsxs)("div",{className:"x78zum5 x1q0g3np x193iq5w x6s0dn4 xfex06f",children:[(0,s.jsx)(q.G,{text:t,className:d.s.textHeadingMedium.fontSemiBold.$}),e.orgPermission===v._D.GUEST&&(0,s.jsx)(H.E,{size:"lg",variant:"defaultOutline",children:(0,E.tx)("admin_dashboard.requests.badge.guest")})]}),(0,s.jsx)("div",{className:d.s.textHeadingMedium.fontMedium.$,children:(0,E.tx)("admin_dashboard.request_flyout.requested_a_seat",{seatType:(0,L.tI)(e.billableProductKey)})})]}),e.lastNudgedAt&&(0,s.jsx)("div",{className:"request_flyout--reminder--HX1aD","data-testid":"nudged-request-banner",children:(0,E.tx)("admin_dashboard.requests.reminder_sent",{time:a})}),e.message&&(0,s.jsx)("div",{style:O.sx.overflowBreakWord.colorBgSecondary.textBodyMedium.colorTextSecondary.pt8.pb8.pr16.pl16.add({borderRadius:"0 13px 13px 13px"}).$,children:e.message})]})}var ee=a(162641);function et(){return(0,s.jsxs)("div",{className:d.s.flex.flexColumn.gap16.$,"data-testid":"request-flyout-loading-skeleton-header",children:[(0,s.jsx)(ee.Wi,{style:O.sx.w48.h48.bRadiusFull.$}),(0,s.jsx)(ee.Wi,{style:O.sx.add({width:"20%"}).h16.$}),(0,s.jsx)(ee.Wi,{style:O.sx.add({width:"40%"}).h24.$})]})}function ea(){return(0,s.jsxs)("div",{className:d.s.flex.flexColumn.gap16.wFull.$,"data-testid":"request-flyout-loading-skeleton-body",children:[(0,s.jsx)(ee.Wi,{className:d.s.wFull.h32.$}),(0,s.jsx)(ee.Wi,{className:d.s.wFull.h200.$})]})}function es(){return(0,s.jsxs)("div",{className:d.s.flex.flexColumn.gap8.$,"data-testid":"request-flyout-loading-skeleton-footer",children:[(0,s.jsx)(ee.Wi,{style:O.sx.wFull.h32.$}),(0,s.jsx)(ee.Wi,{style:O.sx.wFull.h32.$})]})}let en=(e,t)=>{let a=o.oA(t.data?.org)?.baseOrgUserMembersById;if(!a)return;let[s]=a,n=e.length>0&&s?e.find(e=>e.id===s.licenseGroupMember?.licenseGroupId)??null:null;return n?.name},er={Root:(0,n.forwardRef)((e,t)=>(0,s.jsx)(_.I,{open:e.open,trackingName:e.trackingName,trackingProperties:e.trackingProperties,children:(0,s.jsx)(p.m.Root,{ref:t,open:e.open,onClose:e.onClose,children:e.children})})),Contents:function({request:e,billingGroups:t,onClose:a,onApprove:o,onDecline:_}){let j,I,E,T;let S=(0,r.wA)(),A=(0,y.S2)().unwrapOr(null);if(!A)throw Error("Missing Plan.");let N=A.key.type===v.OL.ORG,C=(0,r.d4)(t=>{let a=t.teamMembersByTeamId[A.key.parentId??""];return a?a[e?.email??""]:void 0}),{calculateCostForSeatTypeIncrease:R,status:k}=(0,m.n)(A,e),q=R(),O=(0,f.d)({reportErrorsToTeam:i.e.SCALE}),L=(0,c.k)(),[M,P]=(0,n.useState)();(0,n.useEffect)(()=>{async function t(){await S(h.m$({teamId:A?.key.parentId??""}))}async function a(){P(await S(g.I1({orgId:A?.key.parentId??"",userId:e?.userId??""})))}return N&&a(),A?.key.type===v.OL.TEAM&&t(),()=>P(null)},[S,N,A?.key.parentId,A?.key.type,e?.userId]);let D=(0,l.Rs)(b.oSh,{orgId:A?.key.parentId??"",orgUserIds:M?[M.id]:[]},{enabled:!!M&&t.length>0});if(!e)return(0,s.jsx)(s.Fragment,{});T=N?{id:M?.id??"",user:{id:M?.user.id??"",name:M?.user.name??"",handle:M?.user.handle??""},lastActive:M?.last_seen??void 0,currentSeat:M?M.active_seat_type?.key??x.Gu.VIEW:void 0}:{id:C?.team_user?.id??"",user:{id:C?.team_user?.user_id??"",name:C?.name??"",handle:C?.team_user?.user?.handle??""},lastActive:C?.last_active?new Date(1e3*C.last_active).toISOString():void 0,currentSeat:C?C.team_user?.active_seat_type?.key??x.Gu.VIEW:void 0};let F=!M||"loading"===D.status,B="errors"===k,U=O||B||u.D3.MISSING_CURRENCY===q?.reason||u.D3.COST_MESSAGING_DISABLED===q?.reason;if(!T||N&&F)j=(0,s.jsx)(et,{}),I=(0,s.jsx)(ea,{}),E=(0,s.jsx)(es,{});else{let n=en(t,D);j=(0,s.jsx)(Z,{request:e}),I=(0,s.jsx)(z,{request:e,planUser:T,billingGroupName:n,seatCostResult:q,shouldHideSeatCostInfo:U,failedToLoadPrices:B,isProrationBillingEnabled:L}),E=(0,s.jsx)(w,{onClose:a,onApprove:o,onDecline:_,requestId:e.id})}return(0,s.jsx)(p.m.Contents,{children:(0,s.jsxs)("div",{className:d.s.flex.flexColumn.justifyBetween.hFull.p24.gap24.$,children:[(0,s.jsx)(p.m.HiddenTitle,{children:e.id}),j,(0,s.jsxs)("div",{className:d.s.flex.flexColumn.justifyBetween.hFull.gap16.$,children:[I,E]})]})})}};function ei(e){let{request:t,billingGroups:a,open:n,onClose:r,onApprove:i,onDecline:l,trackingName:o,trackingProperties:d,flyoutRef:c}=e;return{requestFlyout:(0,s.jsx)(er.Root,{open:n,onClose:r,trackingName:o,trackingProperties:{...d},ref:c,children:(0,s.jsx)(er.Contents,{request:t,billingGroups:a,onClose:r,onApprove:i,onDecline:l})})}}},447644:(e,t,a)=>{a.d(t,{l:()=>e$});var s=a(486106),n=a(7378),r=a(514228),i=a(915765),l=a(934246),o=a(165054),d=a(27355),c=a(536384),u=a.n(c),m=a(957591),_=a(165069),p=a(288654),g=a(99656),h=a(919079),x=a(236327),f=a(637027),v=a(986103),b=a(162641),y=a(563413),j=a(750789),I=a(186077),E=a(589278),T=a(303541),S=a(941192),A=a(302958),w=a(576487),N=a(830372),C=a(355181),R=a(261906),k=a(307841),q=a(618031),O=a(599327),L=a(515088),M=a(846771),P=a(845611),D=a(396452),F=a(428395),B=a(791117),U=a(48052),G=a(420937),V=a(437088),$=a(38914),W=a(272243),z=a(153916),H=a(617427),Q=a(16237),Y=a(156213),K=a(370443),X=a(831799),J=a(421473),Z=a(696396);let ee=(0,a(102752).Ju)(function(e){let t;let a=V.hS({open:e.open,onClose:e.onClose}),n=(0,r.wA)(),i=(0,z.Xf)(e.plan.key.parentId,e.plan.key.type!==J.OL.TEAM),l=(0,r.d4)(e=>e.teamBilling),o=e.plan.key.type===J.OL.TEAM?l.summary.currency:i.data?.currency,d=()=>n(Y.Ce());t=!o||e.isELA?(0,T.tx)("admin_dashboard.seat_requests.approve_all_modal.body.no_cost",{numRequests:e.requestsToApprove.length}):(0,T.tx)("admin_dashboard.seat_requests.bulk_approve_modal.body");let c=(0,Q.u)();return(0,s.jsx)(X.fu,{name:Z.e0.BULK_APPROVE_CONFIRMATION_MODAL,properties:{planType:e.plan.key.type,planId:e.plan.key.parentId},children:(0,s.jsx)($.bL,{manager:a,width:"lg",children:(0,s.jsxs)(W.vo,{children:[(0,s.jsx)(W.Y9,{children:(0,s.jsx)(W.hE,{children:(0,T.tx)("admin_dashboard.seat_requests.approve_all_modal.title")})}),(0,s.jsx)(W.nB,{children:t}),(0,s.jsx)(W.wi,{children:(0,s.jsxs)(W.jk,{children:[(0,s.jsx)(H.$z,{variant:"secondary",onClick:d,trackingProperties:{trackingDescriptor:K.c.CANCEL},trackingOptions:c,children:(0,T.tx)("admin_dashboard.seat_requests.approve_all_modal.cancel")}),(0,s.jsx)(H.$z,{variant:"primary",onClick:()=>{d(),e.onConfirm()},trackingProperties:{trackingDescriptor:K.c.APPROVE},trackingOptions:c,children:(0,T.tx)("admin_dashboard.seat_requests.approve_all_modal.approve_number_of_requests",{numRequests:e.requestsToApprove.length})})]})})]})})})},"BulkApproveConfirmationModal");var et=a(114445),ea=a(425283),es=a(562448),en=a(320061),er=a(541264),ei=a(628118),el=a(513035),eo=a(332483),ed=a(217457),ec=a(603561),eu=a(876838),em=a(609392),e_=a(372672),ep=a(684446),eg=a(191312),eh=a(43951),ex=a(482728),ef=a(129884),ev=a(281010),eb=a(805373),ey=a(270084),ej=a(650793),eI=a(207101),eE=a(780544),eT=a(983384),eS=a(621515),eA=a(545877),ew=a(425180),eN=a(6204);function eC(e){let t=(0,eA.r1)("seen_admin_seat_approval_settings_onboarding"),a=(0,d.md)(t),{show:n,isShowing:r,complete:i}=(0,eS.e)({overlay:eN.Clh,priority:(0,eT.g)(eN.Clh)},[a]);return(0,eI.h)(()=>{n({canShow:e=>!e})}),(0,s.jsx)(ew.rq,{clickOutsideToHide:!0,description:(0,T.tx)("admin_dashboard.seat_requests.seat_approval_settings_onboarding_overlay.description"),emphasized:!0,isShowing:r,onClose:i,primaryCta:{label:(0,T.tx)("general.got_it"),onClick:i,type:"button",ctaTrackingDescriptor:K.c.GOT_IT},targetKey:eE.qf,title:(0,T.tx)("admin_dashboard.seat_requests.seat_approval_settings_onboarding_overlay.title"),trackingContextName:"",userFlagOnShow:"seen_admin_seat_approval_settings_onboarding"})}var eR=a(443820),ek=a(275247);a(82433);var eq=a(550447);function eO({request:e,plan:t,handleRequests:a,isELA:n,isProrationBillingEnabled:r}){let i=(0,d.md)(M.aN),l=(0,d.md)(M.V4),{calculateCostForSeatTypeIncrease:o}=(0,eq.n)(t,e),c=e.billableProductKey,u=o(),m=!!i||l.has(e.id),_="approving"===i&&l.has(e.id),p=(0,Q.u)();return _?(0,s.jsx)("div",{className:"x78zum5 x6s0dn4 xe8ttls",children:(0,s.jsx)(eR.k,{size:"sm"})}):(0,s.jsx)(H.Me,{"aria-label":(0,T.t)("admin_dashboard.requests.approve"),onClick:t=>{t.stopPropagation(),a({approve:!0,selectedRequestIds:[e.id],shouldProcessAsSingleRequest:!0})},disabled:m,trackingProperties:{trackingDescriptor:K.c.APPROVE},htmlAttributes:{"data-testid":"approve-button-single",...(0,M.Td)(c,u,n,r)},trackingOptions:p,children:(0,s.jsx)(ek.U,{})})}var eL=a(964520);function eM({request:e,setHighlightedItemId:t}){let a=(0,Q.u)();return(0,s.jsx)(H.Me,{"aria-label":(0,T.t)("admin_dashboard.requests.details.title"),onClick:a=>{a.stopPropagation(),t(e.id)},trackingProperties:{trackingDescriptor:K.c.REQUEST_DETAILS,requestId:e.id},trackingOptions:a,children:(0,s.jsx)(eL.a,{})})}var eP=a(312987),eD=a(848862),eF=a(710166);function eB(e){let t=(0,r.wA)(),a=(0,eD.Um)(),n=a?.type===e.type;return(0,s.jsxs)(eP.V,{showingDropdown:n,type:e.type,dispatch:t,isRightAligned:!0,children:[(0,s.jsx)("div",{"data-testid":e.dataTestId,children:e.isDefaultFilter?e.defaultFilterLabel:e.filterLabel}),n&&(0,s.jsx)(x.gw,{dispatch:t,className:eF.x1,style:a.data.position,children:e.renderFilterOptions()})]})}var eU=a(527041);let eG="approving-all-requests",eV="RequestFlyout";function e$({plan:e,isOrgAdmin:t,defaultAdminEntryPoint:a}){let c;let V=e?.key.type==="team"?P.ps.TEAM:P.ps.ORG,$=e.key.parentId??"",W=(0,er.B)(),z=n.useRef(null),H=n.useRef(null),J=(0,q.k)(),eI=(0,k.RR)(),eE=(0,Q.u)(),eT=(0,r.wA)(),{seatAvailability:eS}=(0,U.k)(e),{Sprig:eA}=(0,g.A)(),[ew,eN]=(0,n.useState)(!1),[eR,ek]=(0,n.useState)(""),[eq,eL]=(0,n.useState)(null),[eP,eD]=(0,n.useState)(P.i5.NEWEST_FIRST),[e$,eW]=(0,d.fp)(M.aN),ez=(0,n.useRef)(0),[eH,eQ]=(0,n.useState)(0),eY=(0,r.d4)(({selectedView:e})=>e),eK=a??M.kl,{dispatchSuccess:eX,dispatchSuccessWithRequesterName:eJ,dispatchRequestAlreadyHandled:eZ,dispatchProcessingError:e0,dispatchGenericError:e1}=(0,B.s)(),[e4,e5]=(0,d.fp)(L.Y),[e3,e8]=(0,d.fp)(M.V4),[e2,e6]=(0,n.useState)(new Set),[e7,e9]=(0,n.useState)(new Set),[te,tt]=(0,n.useState)(null),[ta,ts]=(0,n.useState)(0),[tn,tr]=(0,n.useState)(0),[ti,tl]=(0,n.useState)(P.V7.ALL_MANAGED_REQUESTS),[to,td]=(0,n.useState)(ti),[tc,tu]=(0,n.useState)(null),tm=(0,ep.MX)(),t_=(0,e_.TA)(),tp=V===P.ps.ORG,tg=(0,n.useMemo)(()=>tp?(0,ep.EQ)(tm,t_,!1).groupsUserIsAdminOf:[],[tm,t_,tp]),th=(0,n.useMemo)(()=>tg?tg.map(e=>e.id):[],[tg]),tx=(0,n.useMemo)(()=>ti===P.V7.ALL_MANAGED_REQUESTS?t?[null,...th]:th:null,[ti,th,t]),tf=(0,n.useMemo)(()=>{switch(to){case P.V7.ALL_ORG_REQUESTS:return null;case P.V7.ALL_MANAGED_REQUESTS:return t?[null,...th]:th;case P.V7.ALL_UNASSIGNED_REQUESTS:return t?[null]:[];default:if(!(to in P.V7))return[to];return null}},[to,th,t]),tv=(0,n.useMemo)(()=>JSON.stringify({search_query:eR,billable_product_key:eq,refreshNonce:ta,sortTypeNonce:eP,billing_group_ids:tf,org_user_permission:tc}),[eR,eq,ta,eP,tf,tc]),tb=(0,n.useMemo)(()=>JSON.stringify({billing_group_ids:tx}),[tx]),ty=(0,p.Rs)((0,eh.EEx)({planType:V,planId:$,sortOrder:eP===P.i5.NEWEST_FIRST?"desc":"asc",filterParams:tv,firstPageSize:25})),tj=(0,P.z7)({planType:V,planId:$,filterParams:tv,processedRequestIds:e7}),tI=(0,P.z7)({planType:V,planId:$,filterParams:JSON.stringify({refreshNonce:tv,billing_group_ids:tx}),processedRequestIds:e7}),tE=(0,p.Rs)((0,eh.HpJ)({orgId:$}),{enabled:tp}),tT="loaded"===ty.status,tS=tT&&!!ty.data?.adminDashboardRequests?.isLoadingNextPage,tA=tT&&!!ty.data?.adminDashboardRequests?.hasNextPage(),[tw,tN]=(0,n.useState)({loading:!0,requestId:void 0,request:void 0}),tC=tp&&"loaded"===tE.status&&tE.data?.org?.bigmaEnabledAt&&t,tR=tp&&"loaded"===tE.status&&t?tE.data?.org?.orgSharedSetting?.configuredUpgradeRequestSetting:void 0,tk=(0,P.ZY)({isIntendedAudience:tp&&"loaded"===tE.status&&tE.data?.org?.bigmaEnabledAt!==null&&!1===t});(0,B.u)(tp,t);let tq=(0,ec.d)({reportErrorsToTeam:o.e.SCALE}),tO=!tT||tS||tA||tw.loading,tL=tj?.length??0,tM=tI?.length??0,tP=[V,$].toString(),tD=e4[tP],tF=tM?Math.max(tM,0):0,tB=tI&&tD!==tF,tU=tM>0||null===tI&&!!tD;n.useEffect(()=>{if(tB){let e={...e4};e[tP]=tF,e5(e)}},[tB,tP,tF]);let tG=ew&&null===tL;(0,n.useEffect)(()=>{tT&&tt(new Date)},[tT]),(0,n.useEffect)(()=>{let e=(0,em.QL)("approvalRequestId");e?tN(t=>({...t,requestId:e})):tN(e=>({...e,loading:!1})),(0,em.EM)("approvalRequestId")},[]),(0,n.useEffect)(()=>{async function e(e){let t=await (0,eu.q)(e,eT);t?tN(e=>({...e,request:t,loading:!1})):tN(e=>({...e,loading:!1}))}tw.requestId&&e(tw.requestId)},[tw.requestId,eT]),(0,_.R)(()=>{if(tw.requestId&&tw.request){let e=tw.request.requestableOrgUser?.user?.name??tw.request.requestableTeamUser?.user?.name??"";t4({approve:!0,selectedRequestIds:[tw.requestId],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:P.Xv.EMAIL,successHandler:e?()=>{eJ({requesterName:e}),tN({loading:!1,requestId:void 0,request:void 0})}:eX})}},tO,e=>!e);let tV=(0,n.useMemo)(()=>{let e=new Set(e2);if(!tT||!ty?.data?.adminDashboardRequests)return[];let t=ty.data?.adminDashboardRequests.reduce((t,a)=>{let s=a.id,n=a.request,r=a.user,i=a.userId;if(n.status!==m.tT.Loaded||r.status!==m.tT.Loaded)return t;let l=n.data,o=r.data;if(!l||!o)return e.has(s)||e.add(s),t;if(!l.billableProductKey)return t;let d=ed.Zx(l.billableProductKey);if(e.has(s))return t;if("pending"!==l.status)return e.has(s)||e.add(s),t;let c=!!l.lastNudgedAt;if(s===tw.requestId)return e.has(s)||e.add(s),t;let u=l.requestableTeamUser?.currentSeat;return t.push({id:s,createdAt:l.createdAt,updatedAt:l.updatedAt,name:o.name,email:o.email,imgUrl:o.imgUrl,message:l.message&&l.message.trim().length>0?l.message:null,jobTitle:o.profile?.jobTitle??null,userId:i,hasBeenNudged:c,lastNudgedAt:l.lastNudgedAt,billableProductKey:d,currentSeat:{billableProductKey:u?.billableProductKey,billingInterval:u?.billingInterval},orgPermission:l.requestableOrgUser?.permission}),t},[]);return e9(t=>new Set([...t,...new Set(e)])),t.sort((e,t)=>eP===P.i5.NEWEST_FIRST?t.updatedAt.getTime()-e.updatedAt.getTime():e.updatedAt.getTime()-t.updatedAt.getTime())},[tT,ty.data,tw.requestId,e2,eP]),t$=n.useCallback(e=>tV.find(t=>t.id===e),[tV]),{highlightedItem:tW,setHighlightedItemId:tz,clearHighlightedItemId:tH}=(0,es.v)(t$,{interactionConfig:[{ref:H,shouldClearHighlight:!1},{ref:z,shouldClearHighlight:!1},{ref:W,shouldClearHighlight:!0}],onHighlight:()=>{H.current?.focus()},onClear:(0,en.b)(eV)}),tQ=(0,n.useMemo)(()=>new Set(tV?.filter(e=>[el.ud.DEVELOPER,el.ud.EXPERT].includes(e.billableProductKey)&&e.message?.includes("Dev Mode")).map(e=>e.id)),[tV]);(0,_.R)(()=>{let e=(0,em.QL)("viewRequestId");e&&(tV.find(t=>t.id===e)?tz(e):eZ(),(0,em.EM)("viewRequestId"))},tO,e=>!e);let tY=(0,n.useMemo)(()=>(0,i.s)(ek,300),[ek]),tK=e=>e===P.r1.GUESTS?(0,T.t)("admin_dashboard.requests.guests"):e===P.r1.MEMBERS?(0,T.t)("admin_dashboard.requests.members"):(0,T.t)("admin_dashboard.requests.all_users"),tX=ti===P.V7.ALL_ORG_REQUESTS&&tm.length>0,tJ=ti===P.V7.ALL_MANAGED_REQUESTS&&(tg.length>0&&t||!t&&tg.length>1),tZ=(tC||tk)&&(tX||tJ),t0=n.useCallback(({approve:e,requestId:t,selectionMethod:a=P.Xv.SINGLE,entryPoint:s=eK,successHandler:n=eX})=>{e8(e=>new Set(e).add(t)),eW(e?"approving":"declining");let r=e?ev.w.approveRequests.bind(ev.w):ev.w.denyRequests.bind(ev.w),i=tV.find(e=>e.id===t);r({plan_id:$,plan_type:V,included_request_ids:[t],selection_method:a,entry_point:s,is_proration_billing_enabled:J,is_seat_increase_authorized:(0,M.Z4)(i?[i]:[],eS)}).then(t=>{if(200!==t.status){e1();return}if(t.data.meta.failed_attempts>0){e0({multiple:!1});return}n({approve:e,numRequests:1,asyncUpdate:!1})}).catch(()=>{e1()}).finally(()=>{e8(e=>{let a=new Set(e);return a.delete(t),a}),eW(!1),tr(e=>e+1)})},[eK,e1,e0,eX,J,$,V,tV,eS,e8,eW]),t1=n.useCallback(({approve:e,selectedRequestIds:t,approveAll:a,entryPoint:s=eK})=>{eQ(ez.current),eW(a?"approving_all":e?"approving":"declining"),a&&tM&&eT(A.F.enqueue({message:(0,T.t)("admin_dashboard.requests.selected_count_approving",{numSelected:tM}),type:eG,timeoutOverride:1/0,icon:w.zX.SPINNER,preventDismissal:!0,role:"status"}));let n=a||ew,r=e&&(0,M.x9)(n,t,tp),i=new Set(t),l=tV.filter(e=>i.has(e.id)),o={plan_id:$,plan_type:V,entry_point:s,async_processing:r,is_proration_billing_enabled:J,is_seat_increase_authorized:!!a||(0,M.Z4)(l,eS)},d=n?{...o,subtractive:!0,excluded_request_ids:a?[]:tV.map(e=>e.id).filter(e=>!i.has(e)),filter_params:a?tb:tv,timestamp:(te??new Date).toISOString(),selection_method:a?P.Xv.APPROVE_ALL:P.Xv.BULK_SELECT}:{...o,included_request_ids:t,selection_method:P.Xv.BULK_SELECT,filter_params:tb},c=(t,a,s)=>{if(200!==t){e1();return}if(a>0){e0({multiple:!0});return}eX({approve:e,numRequests:s,asyncUpdate:r})},u=()=>{eW(!1),eQ(0),n&&ts(e=>e+1),ew&&eN(!1)};e?ev.w.approveRequests.bind(ev.w)(d).then(e=>{if(c(e.status,e.data.meta.failed_attempts,e.data.meta.successful_attempts),r){let t=e.data.meta.processed_request_ids;e6(e=>new Set([...e,...new Set(t)]))}tr(e=>e+1)}).catch(()=>{e1()}).finally(()=>{a&&eT(A.F.dequeue({matchType:eG})),u()}):ev.w.denyRequests.bind(ev.w)(d).then(e=>{c(e.status,e.data.meta.failed_attempts,e.data.meta.successful_attempts),tr(e=>e+1)}).catch(()=>{e1()}).finally(()=>{u()})},[tb,eK,eT,e1,e0,eX,tv,tp,J,te,$,V,tV,eS,ew,eW,tM]),t4=n.useCallback(({approve:e,selectedRequestIds:t,approveAll:a=!1,shouldProcessAsSingleRequest:s=!1,singleRequestSelectionMethod:n,successHandler:r=eX,sprig:i,isHandlingInFlyout:l=!1})=>{let o=l?M.A$:eK,d="dashDeepLinkEntryPoint"in eY&&eY.dashDeepLinkEntryPoint||o;(()=>{if(s){let a=n||P.Xv.SINGLE;t0({approve:e,requestId:t[0],selectionMethod:a,entryPoint:d,successHandler:r})}else t1({approve:e,selectedRequestIds:t,approveAll:a})})(),i&&s&&i("track",e?"admin-dashboard-request-approved":"admin-dashboard-request-declined"),i&&V===P.ps.TEAM&&!e&&t.some(e=>tQ.has(e))&&i("track","admin-dashboard-dev-mode-decline")},[V,eX,eK,t0,t1,tQ,eY]),{requestFlyout:t5}=(0,et.m)({request:tW,billingGroups:tm,flyoutRef:H,open:!!tW,onClose:tH,onApprove:()=>t4({approve:!0,selectedRequestIds:tW?[tW.id]:[],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:P.Xv.SINGLE,sprig:eA,isHandlingInFlyout:!0}),onDecline:()=>t4({approve:!1,selectedRequestIds:tW?[tW.id]:[],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:P.Xv.SINGLE,sprig:eA,isHandlingInFlyout:!0}),trackingName:eV,trackingProperties:{requestId:tW?.id}}),t3=n.useCallback(e=>{let t=e.name||e.email||(0,T.t)("admin_dashboard.requests.no_name");return(0,s.jsx)(eb.az,{entity:{id:e.userId,name:t,email:e.email??void 0,imgUrl:e.imgUrl},badge:e.orgPermission===eg._D.GUEST?{color:h.zE.DEFAULT,text:(0,T.t)("admin_dashboard.requests.badge.guest")}:void 0,size:24,defaultText:P.Lv,includeUserEmailAddress:!0,className:eF.U0})},[]),t8=n.useCallback(e=>{if(!(0,el.dA)(e.billableProductKey))return(0,s.jsxs)(s.Fragment,{children:[" ",(0,O.tI)(e.billableProductKey)]});{let t=e.billableProductKey;return(0,s.jsxs)("div",{className:E.s.flex.gap8.itemsCenter.$,children:[(0,s.jsx)(R.B,{type:t,size:"24"}),(0,O.tI)(e.billableProductKey)]})}},[]),t2=n.useCallback(e=>(0,s.jsx)("div",{className:e.hasBeenNudged?eF.cp:void 0,"data-tooltip-type":e.hasBeenNudged?ef.Ib.TEXT:void 0,"data-tooltip":(0,T.t)("admin_dashboard.requests.sent_you_a_reminder",{requesterName:e.name??e.email??""}),children:(0,s.jsx)(v.h1,{capitalize:!0,date:e.updatedAt})}),[]),t6=e=>e.updatedAt.getTime(),t7=n.useMemo(()=>[{name:(0,T.t)("admin_dashboard.requests.columns.name"),className:eF.Mc,cellComponent:t3},{name:(0,T.t)("admin_dashboard.requests.columns.seat_type"),className:eF.eF,cellComponent:t8},{name:(0,T.t)("admin_dashboard.requests.columns.requested"),className:eF.jR,cellComponent:t2,sorting_key:M.BC.REQUESTED,getSortValue:t6,sortNumerically:!0},{name:(0,T.t)("admin_dashboard.requests.columns.note"),className:eF.P_,cellComponent:e=>(0,s.jsx)(j.G,{text:e.message??"",showTooltip:I.i.NEVER,className:E.s.colorTextSecondary.$})}],[t3,t8,t2]),t9=e=>{let a=e?P.V7.ALL_MANAGED_REQUESTS:P.V7.ALL_ORG_REQUESTS,n=e?ea.xo:ea.OW,r=e?(0,T.tx)("admin_dashboard.managed_org_requests.title"):(0,T.tx)("admin_dashboard.all_org_requests.title",{orgName:"loaded"===tE.status?tE.data?.org?.name:"org"});return(0,s.jsxs)("div",{role:"button",tabIndex:0,className:E.s.flex.gap8.itemsCenter.font11.fontMedium.lh16.mr8.py4.px8.if(ti===a,E.s.colorText.bRadius5.colorBgPressed,E.s.colorTextSecondary).$,onClick:()=>{tl(a),td(a),tr(0===tn?1:0)},"data-onboarding-key":n,"data-test-id":e?"your-requests-tab":"all-org-requests-tab",children:[r,(0,s.jsx)(F.E,{isOrgAdmin:!!t,managedRequests:e,planId:$,planType:V,processedRequestIds:e7,refreshNonce:ta,refreshTabCountNonce:tn,selectedRequestView:ti,showAllOrgRequests:tC??!1,showBillingGroupAdminRequests:tk,viewableBillingGroupIds:t?[null,...th]:th})]})},ae=(0,s.jsxs)("div",{className:E.s.flex.columnGap8.pl16.$,children:[tp&&t&&(0,s.jsx)(D.eS,{}),(!tp||t)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D.Rj,{planId:$,planType:V,configuredUpgradeRequestSetting:tR}),(0,s.jsx)(eC,{})]}),tU&&(0,s.jsx)(C.V,{variant:"primary",onClick:()=>{if(null===tL||null===tM)return;let t=e$?l.lQ:()=>t4({approve:!0,approveAll:!0,selectedRequestIds:[]});if(tM===tL&&tM<1){t();return}eT(Y.to({type:G.W,data:{plan:e,numRequestsToApprove:tM,filteredRowCount:tL,isELA:tq,onConfirm:t,entryPoint:eK}}))},innerText:"Approve all",dataTestId:"approve-all-button",disabled:null===tM||!!e$,trackingProperties:{trackingDescriptor:K.c.APPROVE_ALL},trackingOptions:eE,children:(0,s.jsx)(D.Zu,{text:(0,T.t)("admin_dashboard.requests.approve_all"),showSpinner:"approving_all"===e$})})]}),at=(0,s.jsx)("div",{className:E.s.h32.cursorDefault.selectNone.$,children:(0,s.jsxs)(N.Y,{spacing:0,children:[(0,s.jsx)(N.Y,{spacing:0,children:[!0,!1].map(e=>t9(e))}),(0,s.jsx)(N.M,{}),ae]})}),aa=(0,s.jsxs)(s.Fragment,{children:[!!tC&&tm.length>0&&at,(0,s.jsxs)(N.Y,{padding:{top:4,bottom:8},strokeColor:"default",strokeWidth:{bottom:1},children:[(0,s.jsx)(y.y2,{onChange:e=>tY((0,P.Bk)(e)),query:eR,clearSearch:()=>ek(""),placeholder:(0,T.t)("admin_dashboard.requests.search_requests.placeholder"),maxInputLength:P.MI}),(0,s.jsx)(N.M,{}),(tC||tk)&&(0,s.jsx)(eB,{type:P.L8,dataTestId:"user-type-filter",isDefaultFilter:null===tc,defaultFilterLabel:(0,T.tx)("admin_dashboard.requests.filter.user_type_default"),filterLabel:(0,T.tx)("admin_dashboard.requests.filter.user_type",{selectedUserTypeFilter:(0,s.jsx)("span",{className:E.s.fontBold.$,children:tK(tc)})}),renderFilterOptions:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.MM,{checked:null===tc,onClick:()=>tu(null),children:(0,T.t)("admin_dashboard.requests.all_users")}),(0,s.jsx)(x.wv,{}),Object.values(P.r1).map(e=>(0,s.jsx)(x.MM,{checked:tc===e,onClick:()=>tu(e),children:tK(e)},e))]})}),(0,s.jsx)(eB,{type:"UPGRADE_REQUESTS_SEAT_TYPE_DROPDOWN",dataTestId:"seat-type-filter",isDefaultFilter:null===eq,defaultFilterLabel:(0,T.tx)("admin_dashboard.requests.filter.seat_type_default"),filterLabel:(0,T.tx)("admin_dashboard.requests.filter.seat_type",{selectedSeatTypeFilter:(0,s.jsx)("span",{className:E.s.fontBold.$,children:(0,O.tI)(eq??el.Gu.VIEW)})}),renderFilterOptions:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.MM,{checked:null===eq,onClick:()=>eL(null),children:(0,T.t)("admin_dashboard.requests.filter.seats_all_option")}),(0,s.jsx)(x.wv,{}),eo.N_.sort(ed.AG).map(e=>(0,s.jsx)(x.MM,{checked:eq===e,onClick:()=>eL(e),children:(0,O.tI)(e)},e))]})}),tZ&&(0,s.jsx)(eB,{type:P.OL,dataTestId:"billing-group-filter",isDefaultFilter:to===ti,defaultFilterLabel:(0,T.tx)("admin_dashboard.requests.filter.billing_group_default"),filterLabel:(0,T.tx)("admin_dashboard.requests.filter.billing_group",{selectedBillingGroupFilter:(0,s.jsx)("span",{className:E.s.fontBold.$,children:to===P.V7.ALL_ORG_REQUESTS||to===P.V7.ALL_MANAGED_REQUESTS?(0,T.t)("admin_dashboard.requests.from_all"):to===P.V7.ALL_UNASSIGNED_REQUESTS?(0,T.t)("admin_dashboard.requests.from_unassigned"):tm.find(e=>e.id===to).name})}),renderFilterOptions:()=>{let e=ti===P.V7.ALL_ORG_REQUESTS?tm:tg,t=[{key:ti,label:(0,T.t)("admin_dashboard.requests.from_all")}];return tk||t.push({key:P.V7.ALL_UNASSIGNED_REQUESTS,label:(0,T.t)("admin_dashboard.requests.from_unassigned")}),(0,s.jsxs)(s.Fragment,{children:[t.map(e=>(0,s.jsx)(x.MM,{checked:to===e.key,onClick:()=>td(e.key),children:e.label},e.key)),(0,s.jsx)(x.wv,{}),(0,s.jsx)(x.MM,{disabled:!0,checked:!1,onClick:l.lQ,children:(0,T.tx)(ti===P.V7.ALL_ORG_REQUESTS?"admin_dashboard.requests.billing_groups":"admin_dashboard.requests.your_billing_groups")}),e.map(e=>(0,s.jsx)(x.MM,{checked:to===e.id,onClick:()=>td(e.id),children:e.name},e.id))]})}})]})]});return(0,s.jsxs)(X.fu,{name:Z.e0.UPGRADE_REQUESTS_TABLE,properties:{adminRequestsDashboard:!0,orgId:tp?$:void 0,teamId:V===P.ps.TEAM?$:void 0,entryPoint:"dashDeepLinkEntryPoint"in eY?eY.dashDeepLinkEntryPoint:"",isBillingRemodelEnabled:eI},trackingOptions:eE,children:[(0,s.jsx)(ei.K,{title:(0,T.t)("admin_dashboard.requests.seat_title"),rightActions:!tC||tm.length<1?ae:void 0}),(0,s.jsx)("div",{className:u()(eF.M2,E.s.if(!tC||0===tm.length,E.s.pt4,E.s.pt12).$),children:(0,s.jsx)(ey.Cj,{actionBar:"approving_all"===e$?void 0:t=>tG?(0,s.jsx)("div",{className:E.s.w150.$,children:(0,s.jsx)(b.Wi,{className:E.s.h12.w150.$,animationType:b.JR.SHIMMER_ON_MENU})}):(0,s.jsx)("div",{className:eF.$h,children:(0,s.jsxs)(N.Y,{spacing:8,children:[(0,s.jsx)(C.V,{variant:"toolbar-secondary",disabled:!!e$,onClick:e$?l.lQ:()=>t4({approve:!1,selectedRequestIds:t.map(e=>e.id),sprig:eA}),innerText:"Decline",dataTestId:"decline-button-multiple",trackingProperties:{trackingDescriptor:K.c.DECLINE},trackingOptions:eE,children:(0,s.jsx)(D.Zu,{text:(0,T.t)("admin_dashboard.requests.decline"),showSpinner:"declining"===e$})}),(0,s.jsx)(C.V,{variant:"primary",disabled:!!e$,onClick:e$?l.lQ:()=>eT(Y.to({type:ee,data:{plan:e,requestsToApprove:t,seatAvailability:eS,isELA:tq,calculateCostForSeatTypeBulkIncrease:(e,t)=>void 0,onConfirm:()=>t4({approve:!0,selectedRequestIds:t.map(e=>e.id)})}})),innerText:"Review",dataTestId:"approve-button-multiple",trackingProperties:{trackingDescriptor:K.c.REVIEW},trackingOptions:eE,children:(0,P.Zm)({text:(0,T.t)("admin_dashboard.requests.multi_select.review"),showSpinner:"approving"===e$})})]})}),actionBarClassName:u()(eF.KY,tG?void 0:eF.h4),columns:t7,disabled:!!e$,emptyContent:(c=0===eR.length&&null===eq&&to===ti&&null===tc?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:E.s.fontSemiBold.lh16.cursorDefault.colorTextSecondary.$,children:(0,T.tx)(tR&&tk?"admin_dashboard.requests.empty.configurable_upgrade_requests":"admin_dashboard.requests.no_requests_to_approve")}),(0,s.jsx)("div",{style:S.sx.add({maxWidth:"500px"}).lh16.cursorDefault.alignCenter.colorTextSecondary.$,children:tR?tR===ex.Sm.MEMBERS?(0,T.tx)("admin_dashboard.configured_upgrade_request_empty_state.members"):(0,T.tx)("admin_dashboard.configured_upgrade_request_empty_state.all_users"):(0,T.tx)("admin_dashboard.requests.when_a_seat_request_needs_to_be_reviewed")})]}):eR.length>0&&null===eq&&to===ti&&null===tc?(0,s.jsx)("div",{className:E.s.lh16.cursorDefault.colorText.$,children:(0,T.tx)("admin_dashboard.requests.empty.no_search_results")}):(0,s.jsx)("div",{className:E.s.lh16.cursorDefault.colorText.$,children:(0,T.tx)("admin_dashboard.requests.empty.no_filter_results",{resetFiltersLink:(0,s.jsx)(f.CY,{trusted:!0,onClick:()=>{eL(null),td(ti),ek(""),tu(null)},children:(0,T.tx)("admin_dashboard.requests.empty.reset_filters")})})}),(0,s.jsx)(N.Y,{direction:"vertical",spacing:8,padding:{top:60,bottom:28},horizontalAlignItems:"center",children:c})),getItemKey:e=>e.id,getTotalSelected:tG?void 0:(e,t)=>{let a;return a=ew&&tL?Math.max(1,tL-(t.length-e.length)):e.length,ez.current=a,a},hasNewScrollContext:!0,highlightState:{itemKey:tW?.id??null,setItemKey:tz},isLoading:tO,itemTypeContext:{itemType:P.k_,getSelectedCountString:e=>tG?"":"approving"===e$?(0,T.t)("admin_dashboard.requests.selected_count_approving",{numSelected:eH}):"declining"===e$?(0,T.t)("admin_dashboard.requests.selected_count_denying",{numSelected:eH}):(0,T.t)("admin_dashboard.requests.selected_count_request",{numSelected:e})},items:tV,minContentWidth:928,onFetchMore:tA?()=>{tT&&!tS&&tA&&ty?.data?.adminDashboardRequests?.loadNext(25)}:void 0,onRowClick:e=>{e.id===tW?.id?tH():tz(e.id)},onSelectedItemsChange:e=>{0===e.length&&eN(!1)},onSetSortState:()=>eD(e=>e===P.i5.NEWEST_FIRST?P.i5.OLDEST_FIRST:P.i5.NEWEST_FIRST),onToggleSelectAll:e=>{eN(!e),tH()},rightActionColumns:[{name:"approve-single-column",className:eU.oi,cellComponent:t=>(0,s.jsx)(eO,{request:t,plan:e,numRowsSelected:ez,handleRequests:t4,isELA:tq,isProrationBillingEnabled:J})},{...ej.VU,cellComponent:e=>(0,s.jsx)(eM,{request:e,setHighlightedItemId:tz})}],scrollBarAlwaysVisible:!0,scrollContentRef:z,sortState:(0,M.W4)(eP),stickyContent:aa,unselectableItemKeys:e3})}),t5]})}},780544:(e,t,a)=>{a.d(t,{KB:()=>n,LX:()=>i,lR:()=>r,qf:()=>l,tg:()=>s});let s=443==a.j?"Admin settings onboarding - admin nav changes -":null,n="admin_sidebar_plan_information_onboarding_key",r="admin_sidebar_back_to_files_onboarding_key",i="admin_dashboard_onboarding_key",l="admin_seat_approval_settings_onboarding_key"},983384:(e,t,a)=>{a.d(t,{g:()=>i});var s=a(268271),n=a(6204);let r=[n.rRT,n.TaD,n.Clh,n.Msu,n.LPt];function i(e){let t=r.indexOf(e);if(-1===t)return console.warn("Add overlay to ADMIN_DEFAULT_PLUS_OVERLAYS to set relative priority",e),s.N.DEFAULT_MODAL;let a=r.length;return s.N.DEFAULT_MODAL+(a-t)/a}},321313:(e,t,a)=>{a.d(t,{p:()=>p});var s=a(486106),n=a(514228),r=a(59509),i=a(363675),l=a(572042),o=a(303541),d=a(156213),c=a(831799),u=a(102752),m=a(519092);let _=(0,u.Ju)(function(e){return(0,s.jsx)(c.fu,{name:"Enable AI Features Modal",properties:{planId:e.planId,planType:e.planType},children:(0,s.jsx)(m.Dd,{title:(0,o.t)("admin_settings.ai.features_toggle.modal.header"),maxWidth:440,minWidth:440,fixedTop:!1,onConfirm:e.onEnable,confirmText:(0,o.t)("admin_settings.ai.features_toggle.modal.button"),children:(0,s.jsx)("div",{children:(0,o.tx)("admin_settings.ai.features_toggle.modal.description")})})})},"EnableAiFeaturesModal");function p(e){let t=(0,n.wA)();return(0,s.jsxs)(r.Yy,{variant:"brand","data-testid":e.testId,children:[(0,s.jsx)(i.Q,{title:(0,o.t)("admin_settings.ai.banner.title"),children:(0,s.jsx)("span",{style:{marginRight:8},children:(0,o.tx)("admin_settings.ai.banner.description")})}),(0,s.jsx)(l.N,{href:"#",onClick:()=>{t(d.to({type:_,data:{onEnable:()=>{e.onEnable()},planId:e.planId,planType:e.planType}}))},children:(0,o.tx)("admin_settings.ai.features_toggle.enable_ai")})]})}},840214:(e,t,a)=>{let s;a.d(t,{r:()=>i});var n=a(662580),r=a(102752);function i(){return s??=(0,r.Ju)(n.A.createLazyComponent(()=>Promise.all([a.e(3555),a.e(7485),a.e(1556),a.e(7021),a.e(7492),a.e(1577),a.e(4452),a.e(3591),a.e(1881),a.e(6048)]).then(a.bind(a,863161)).then(e=>e.UpdateTeamDescriptionModal),(0,r.Ij)("UpdateTeamDescriptionModal")))}},82228:(e,t,a)=>{a.d(t,{I:()=>l});var s=a(486106),n=a(165054),r=a(751457),i=a(831799);function l(e){return(0,s.jsx)(r.tH,{boundaryKey:e.trackingName,team:e.team??n.e.SCALE,fallback:r.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,s.jsx)(i.fu,{name:e.trackingName,enabled:e.open,properties:e.trackingProperties,children:e.children})})}},401058:(e,t,a)=>{a.d(t,{K:()=>h});var s=a(486106),n=a(514228);if(443==a.j)var r=a(438674);if(443==a.j)var i=a(521428);if(443==a.j)var l=a(149844);var o=a(169182),d=a(675859),c=a(589278),u=a(303541),m=a(830372);if(443==a.j)var _=a(900597);var p=a(156213),g=a(465071);function h(e){let t=(0,n.wA)(),a=(0,g.px)(),h=(0,g.Um)(a).unwrapOr(!1),x=(0,s.jsxs)(r.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects#h_01JMJDKJFD68CH88F663KG08AJ",children:[" ",(0,u.tx)("resource_connection.request_modal.learn_more")," "]});return(0,s.jsxs)(m.Y,{width:"fill-parent",height:"fill-parent",direction:"vertical",horizontalAlignItems:"center",verticalAlignItems:"center",spacing:16,padding:32,children:[(0,s.jsx)(d.oW,{src:(0,o.ck)("1afa222e66cf25ca6e6364b97885e5354321145f"),alt:"Connected projects logo",width:150}),(0,s.jsx)("div",{className:c.s.textHeadingMedium.$,children:(0,u.t)("connected_projects_table.collaborate_in_a_connected_project")}),(0,s.jsx)("div",{className:c.s.textBodyLarge.$,style:{width:"508px",textAlign:"center"},children:h?(0,u.tx)("resource_connection.admin_ui.create_a_connected_project_body_for_permissioned_user_v3"):(0,u.tx)("resource_connection.admin_ui.connected_projects_help_you_collaborate_and_share_resources_with_external_teams",{learnMore:x})}),h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.$n,{iconPrefix:(0,s.jsx)(l.e,{}),variant:"primary",onClick:()=>{t(p.to({type:_.B,data:{entryPoint:e.entryPoint}}))},children:(0,u.t)("resource_connection.admin_ui.connect_project")}),x]}),(0,s.jsx)("div",{className:c.s.h100.$})]})}},239888:(e,t,a)=>{a.d(t,{A:()=>w});var s=a(486106),n=a(7378),r=a(514228),i=a(438674),l=a(59509),o=a(363675),d=a(521428),c=a(857916),u=a(601108),m=a(536384),_=a.n(m),p=a(169182),g=a(288654),h=a(675859),x=a(589278),f=a(303541),v=a(346715),b=a(900597),y=a(156213),j=a(985254),I=a(55043),E=a(43951),T=a(465071),S=a(723768);let A="connected_projects_tab_header--headerContainer--Rz5m6";function w(){let e=(0,r.wA)(),t=(0,T.px)(),a=(0,T.S2)().unwrapOr(null),m=(0,T.Um)(t).unwrapOr(!1),w=a?.tier,N=a?.connectionCount??0,C=(0,I.N)(a?.key,()=>{e(y.to({type:b.B,data:{entryPoint:v.wR.CONNECTED_PROJECT_ADMIN_UI}}))}),R=(0,s.jsx)(i.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",children:(0,f.tx)("resource_connection.request_modal.learn_more")}),k=(0,g.Rs)(E.sMZ,{name:"seen_connected_projects_org_member_banner"}),q=n.useMemo(()=>"loaded"!==k.status||!!k.data?.currentUser?.userFlagByName,[k]),O=(0,u.k)().fc_initial_onboarding_enabled&&!q?(0,s.jsx)("div",{className:_()(x.s.pt10.$,A),children:(0,s.jsx)(l.Cs,{variant:"brand",icon:(0,s.jsx)(c.L,{style:{"--color-icon":"var(--color-icon-brand)"}}),onDismiss:()=>{e(j.b({seen_connected_projects_org_member_banner:!0}))},children:(0,s.jsx)(o.Q,{children:(0,f.tx)("resource_connection.connected_projects_tab.connected_projects_help_you_collaborate",{learnMore:R})})})}):(0,s.jsx)(s.Fragment,{});return m?(0,s.jsxs)("div",{className:A,children:[(0,s.jsx)("div",{className:"connected_projects_tab_header--contentContainer--xKmY8",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:x.s.textBodyLarge.$,children:(0,f.tx)("resource_connection.admin_ui.create_a_connected_project_to_collaborate_with_external_teams_without_being_charged_for_their_seats",{learnMore:R})}),(0,s.jsxs)("div",{className:"connected_projects_tab_header--buttonContainer--mL5-t",children:[(0,s.jsx)("div",{children:(0,s.jsx)(d.$n,{onClick:C,children:(0,f.t)("resource_connection.admin_ui.connect_project")})}),(0,s.jsx)("div",{className:x.s.colorTextSecondary.$,children:a&&w&&N?a.unlimitedConnectionsEnabled||a.testingOnlyUnlimitedConnectionsEnabled?(0,f.tx)("resource_connection.admin_ui.unlimited_connections",{numConnections:N}):S.b[w]-N>0?(0,f.tx)("resource_connection.admin_ui.using_num_of_connections",{numConnections:N,maxConnections:S.b[w]}):(0,f.tx)("resource_connection.admin_ui.maxed_out_connections",{maxConnections:S.b[w],planTier:(0,S.A)(w)}):null})]})]})}),(0,s.jsx)(h.oW,{src:(0,p.ck)("1afa222e66cf25ca6e6364b97885e5354321145f"),alt:"Connected projects logo",width:115,height:80})]}):O}},688074:(e,t,a)=>{a.d(t,{m:()=>I});var s=a(486106),n=a(7378),r=a(718764),i=a(799737),l=a(443068),o=a(272243),d=a(251970),c=a(536384),u=a.n(c),m=a(930821),_=a(222851),p=a(456530),g=a(348225),h=a(648761),x=a(589278),f=a(303541);let v=(0,n.createContext)(null);function b(){let e=(0,n.useContext)(v);if(!e)throw Error("missing FlyoutContext for flyout! does the current component have a Flyout.Root parent?");return e}function y(){return b().close}function j(){let e=y();return(0,s.jsx)("div",{className:u()(x.s.absolute.flex.itemsCenter.justifyCenter.$,"flyout--close--SKgKT"),children:(0,s.jsx)(l.K,{onClick:()=>e("button"),"aria-label":(0,f.t)("modal.close"),children:(0,s.jsx)(d.A,{})})})}let I={Root:(0,n.forwardRef)((e,t)=>{let a=(0,n.useMemo)(()=>({ref:t,close:e.onClose}),[e.onClose,t]);return(0,s.jsx)(v.Provider,{value:a,children:(0,s.jsx)(m.N,{initial:!1,children:e.open?(0,s.jsx)(n.Fragment,{children:e.children},"contents"):null})})}),Contents:function({children:e,...t}){let{close:a,ref:l}=b(),o=(0,h.M)(l);(0,n.useEffect)(()=>{let e=o.current;if(!e)return;let t=e=>{"Escape"===e.key&&(e.preventDefault(),a("escape"))};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}},[a,o]);let[d,c]=(0,_.xQ)(),m=(0,p.d)("translateX(100%)");return(0,n.useEffect)(()=>{let e;return d?m.set("none"):(m.set("translateX(100%)"),e=setTimeout(c,600)),()=>{clearTimeout(e)}},[d]),(0,s.jsx)(r.i,{children:(0,s.jsx)(i.b,{...t,className:u()(x.s.fixed.top0.right0.bottom0.left0.zIndexModal.colorText.eventsNone.$,t.zIndexOverrideClassName),ref:o,children:(0,s.jsx)("div",{className:u()(x.s.my0.mr0.mlAuto.top0.wFull.eventsAuto.$,"flyout--contents--g9Ra6"),children:(0,s.jsxs)(g.P.div,{className:x.s.hFull.elevation400.colorBg.flex.flexColumn.$,style:{transform:m,...d?{transition:"transform 500ms cubic-bezier(0.25, 1, 0.5, 1)"}:{transition:"transform 500ms cubic-bezier(0.25, 1, 0.5, 1), visibility 0s 500ms",visibility:"hidden"}},onTransitionEnd:e=>{"transform"!==e.propertyName||d||c()},children:[(0,s.jsx)(j,{}),e]})})})})},Header:function(e){return(0,s.jsx)("div",{className:u()(x.s.minH40.bb1.colorBorder.bSolid.flex.itemsCenter.selectNone.flexShrink0.overflowHidden.$,"flyout--header--AZ5ed"),children:e.children})},HiddenTitle:o.r1,Title:function(e){return(0,s.jsx)(i.J,{className:x.s.textBodyMediumStrong.pl16.pr4.wFull.noWrap.ellipsis.overflowHidden.$,children:e.children})},Body:function(e){let{height:t,...a}=e;return(0,s.jsx)("div",{className:u()(x.s.overflowAuto.if("fill"===e.height,x.s.hFull).$,"flyout--body--2bx8h"),"data-testid":"flyout-body",children:a.children})},useClose:y}},562448:(e,t,a)=>{a.d(t,{v:()=>l});var s=a(7378);if(443==a.j)var n=a(243213);var r=a(620380);let i=443==a.j?["Enter"," "]:null;function l(e,t={}){let[a,o]=(0,s.useState)(null),d=(0,r.H)(t),c=(0,s.useRef)(),u=(0,s.useCallback)(e=>{o(null),c.current??=e},[]),m=(0,s.useMemo)(()=>{if(a)return e(a)},[a,e]),_=a&&!m;return(0,s.useEffect)(()=>{if(!a&&c.current){let e=t.onClear;e?.(c.current),c.current=void 0}},[a,t.onClear]),(0,s.useEffect)(()=>{a&&!_&&d.current.onHighlight?.()},[_,a,d]),(0,s.useEffect)(()=>{_&&u("item-missing")},[_,u]),(0,s.useEffect)(()=>{let e=d.current?.interactionConfig;if(!a||!e)return;let t=t=>{let a=new Map;e.forEach(e=>{e.ref.current&&a.set(e.ref.current,e.shouldClearHighlight)});let s=(0,n.SD)(t.target);for(;s;){let e=a.get(s);if("boolean"==typeof e)return e;s=s.parentElement}return!1},s=e=>{t(e)&&u("other-interaction")},r=e=>{i.includes(e.key)&&t(e)&&u("other-interaction")},l=e=>{t(e)&&setTimeout(()=>u("other-interaction"),0)};return document.body.addEventListener("pointerdown",s,{capture:!0}),document.body.addEventListener("keydown",r,{capture:!0}),document.body.addEventListener("input",l,{capture:!0}),()=>{document.body.removeEventListener("pointerdown",s,{capture:!0}),document.body.removeEventListener("keydown",r,{capture:!0}),document.body.addEventListener("input",l,{capture:!0})}},[a,u,d]),{highlightedItem:m,setHighlightedItemId:o,clearHighlightedItemId:u}}},320061:(e,t,a)=>{a.d(t,{b:()=>l});var s=a(7378),n=a(449184),r=a(16237),i=a(831799);function l(e){let{properties:t}=(0,i.j6)(),a=(0,r.u)();return(0,s.useCallback)(s=>{(0,n.sx)("admin_flyout_closed",{...t,flyout_id:e,reason:s},a)},[t,e,a])}},541264:(e,t,a)=>{a.d(t,{B:()=>l,z:()=>i});var s=a(486106),n=a(7378);let r=(0,n.createContext)(null);function i(e){return(0,s.jsx)(r.Provider,{value:e.layoutRef,children:e.children})}function l(){let e=(0,n.useContext)(r);if(!e)throw Error("useLayoutRef must be used within LayoutRefProvider");return e}},304860:(e,t,a)=>{a.d(t,{S:()=>e_,d:()=>ep});var s=a(486106),n=a(7378),r=a(514228),i=a(822011),l=a(465776),o=a(95419),d=a(165054),c=a(437088),u=a(38914),m=a(272243),_=a(438674),p=a(687265),g=a(82433),h=a(663269),x=a(449184),f=a(566371),v=a(11),b=a(751457),y=a(490799),j=a(589278),I=a(617427),E=a(303541),T=a(302958),S=a(576487),A=a(830372),w=a(84777),N=a(332483),C=a(191312),R=a(514043),k=a(712921),q=a(618031);C.Ag.STUDENT,C.Ag.STARTER;let O=N.N_.dict(()=>"-");var L=a(370443),M=a(831799),P=a(543529),D=a(513035),F=a(603561),B=a(465071),U=a(696396),G=a(223084),V=a(102752),$=a(805373),W=a(809096),z=a(236327),H=a(246400),Q=a(941192),Y=a(261906),K=a(599327),X=a(127401),J=a(479687),Z=a(129884);function ee({billableProductKey:e,upgradeApprovalSetting:t,isSelected:a,setUpgradeApprovalSetting:n,isLastOption:r,isELA:i,isProrationBillingEnabled:l,isProvisionalAccessEnabled:o}){let d=(0,K.SI)(t),c=(0,K.kj)(t,i,l,o),u=(0,K.NU)(t,i);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{"data-testid":"upgrade-approval-settings-dropdown-option","data-tooltip":u,"data-tooltip-hide-immediately":!0,"data-tooltip-max-width":"200px","data-tooltip-show-immediately":!0,"data-tooltip-show-left":!0,"data-tooltip-text-left":!0,"data-tooltip-type":Z.Ib.TEXT,children:(0,s.jsx)(z.c$,{id:`${e}_${t}`,onClick:()=>n(e,t),disabled:!!u,children:(0,s.jsxs)(A.Y,{direction:"horizontal",horizontalAlignItems:"start",verticalAlignItems:"center",padding:{top:8,bottom:8,left:0,right:4},children:[(0,s.jsx)(J.l,{style:Q.sx.add({"--color-icon":"var(--color-icon-onbrand)"}).if(a,Q.sx.visible,Q.sx.invisible).$}),(0,s.jsxs)(A.Y,{direction:"vertical",spacing:0,children:[(0,s.jsx)("div",{className:j.s.textBodyMedium.$,children:d}),(0,s.jsx)("div",{className:j.s.textBodyMedium.preWrap.if(!u,j.s.colorTextMenuSecondary).$,children:c})]})]})},`${e}_${t}`)}),!r&&(0,s.jsx)(z.wv,{})]})}let et=[i.zRx.MANUAL_APPROVAL,i.zRx.INSTANT_APPROVAL_IF_AVAILABLE_SEATS,i.zRx.INSTANT_APPROVAL];function ea({priceString:e,billableProductKey:t,selectedUpgradeApprovalSetting:a,setUpgradeApprovalSetting:r,isELA:i,shouldHidePrice:l,isProrationBillingEnabled:o,isProvisionalAccessEnabled:d}){let c=(0,K.CM)(t),u=(0,n.useMemo)(()=>et.map((e,n,l)=>(0,s.jsx)(ee,{billableProductKey:t,upgradeApprovalSetting:e,isSelected:a===e,setUpgradeApprovalSetting:r,isLastOption:n===l.length-1,isELA:i,isProrationBillingEnabled:o,isProvisionalAccessEnabled:d},`${t}_${e}`)),[t,i,a,r,o,d]);return(0,s.jsxs)(A.Y,{direction:"vertical",spacing:8,dataTestId:`auto-approval-settings-selector-${t}`,children:[(0,s.jsx)(A.Y,{direction:"horizontal",horizontalAlignItems:"space-between",verticalAlignItems:"start",children:(0,s.jsxs)(A.Y,{direction:"horizontal",horizontalAlignItems:"space-between",children:[(0,s.jsxs)(A.Y,{direction:"horizontal",children:[(0,s.jsx)(Y.B,{type:t,size:"24"}),(0,s.jsx)("div",{className:j.s.textBodyMediumStrong.$,children:c})]}),(0,s.jsx)(es,{shouldHidePrice:l,priceString:e,seatType:t})]})}),(0,s.jsx)(z.Ve,{label:(0,K.SI)(a),options:u,className:j.s.wFull.radiusMedium.$,dropdownOptionsClassName:j.s.wFull.$})]})}function es({shouldHidePrice:e,seatType:t,priceString:a}){let n=(0,s.jsx)("div",{"data-testid":`${t}-price`,style:Q.sx.noWrap.colorTextSecondary.$,children:e?(0,E.tx)("general.whats_included"):(0,E.tx)("general.price_per_month",{priceString:a})});return(0,s.jsx)(H.b,{type:"listbox",text:n,popoverContent:(0,s.jsx)("div",{style:Q.sx.flex.flexColumn.gap8.$,children:(0,s.jsx)(X.i,{seatType:t,spacing:8,forceDarkThemeForFigmakeIcon:!0})})})}let en=i.zRx.INSTANT_APPROVAL_IF_AVAILABLE_SEATS;function er(e){let t=(0,r.wA)(),{currency:a,renewalTerm:i}=e,p=c.hS({open:e.open,onClose:e.onClose}),g=(0,F.d)({reportErrorsToTeam:d.e.SCALE}),x=(0,q.k)(),b=(0,B.S2)(),[y]=(0,f.mI)(b),A=!!y.data?.campfireProvisionalAccessEnabled,V=(0,P.i6)(),W=V.data;if(n.useEffect(()=>{"errors"===V.status&&console.error("orgManagesSeatsViaScimQueryResult error",V.errors)},[V]),"loaded"!==y.status){let e=Error("disabled"===y.status?"Plan fetching disabled":"Error fetching plan");throw(0,v.$D)(d.e.MONETIZATION_EXPANSION,e),e}let z=y.data;if(!z){let e=Error("No Plan found");throw(0,v.$D)(d.e.MONETIZATION_EXPANSION,e),e}let{billableProductKeyContractPrices:H,status:Q}=function(e,t,a){let s=(0,w.Ln)(e.key,N.N_,{renewalTerm:a,unit:k.IX.MONTH}),[n]=(0,f.mI)(s),r=(0,q.k)(),i="disabled"===n.status?Error("Missing contract rate args."):"errors"===n.status?Error("Error while fetching pricing."):void 0;if(i&&(0,v.$D)(d.e.MONETIZATION_EXPANSION,i),i||!t)return{billableProductKeyContractPrices:O,status:n.status};let{data:l}=n;if(null===l||!r)return{billableProductKeyContractPrices:O,status:n.status};let c=new R.vr(t);return{billableProductKeyContractPrices:N.N_.dict(e=>{if(!(0,o.uy)(l[e]))return c.formatMoney(l[e].amount,{showCents:!1})}),status:n.status}}(z,a,i),[Y,K]=(0,n.useState)(N.N_.dict(e=>{switch(e){case D.ud.EXPERT:return z.upgradeApprovalSettingsExpert??en;case D.ud.DEVELOPER:return z.upgradeApprovalSettingsDeveloper??en;case D.ud.COLLABORATOR:return z.upgradeApprovalSettingsCollaborator??en;case D.ud.CONTENT:let t=(0,h.oA)(z.upgradeApprovalSettingsContent);if((0,o.Vq)(t))return t;return en;default:(0,l.xb)(e)}})),X=(0,n.useCallback)(async()=>{if(!z.key.type||!z.key.parentId)throw Error("Missing plan key type or parentId.");await G.V.updateUpgradeApprovalSettings(z.key.type,z.key.parentId,Y),p.props?.close({source:"button"}),t(T.F.enqueue({message:(0,E.t)("plan_settings.auto_approval_settings.approval_settings_applied"),icon:S.zX.CHECK_WITH_CIRCLE}))},[Y,t,p.props,z.key.parentId,z.key.type]),J=(0,n.useCallback)((e,t)=>{K(a=>({...a,[e]:t}))},[]),Z=g||!a||"errors"===Q||!x;return(0,s.jsx)(M.fu,{name:U.e0.AUTO_APPROVAL_SETTINGS_MODAL,properties:{planType:z.key.type,orgId:z.key.type===C.OL.ORG?z.key.parentId:void 0,teamId:z.key.type===C.OL.TEAM?z.key.parentId:void 0},children:(0,s.jsx)(u.bL,{manager:p,width:480,children:(0,s.jsxs)(m.vo,{allowOverflow:!0,children:[(0,s.jsx)(m.nB,{children:(0,s.jsxs)("div",{className:j.s.pt32.pb8.px8.flex.flexColumn.$,"data-testid":"auto-approval-settings-modal-header",children:[(0,s.jsx)($.Ro,{entity:{...z,id:z?.id??void 0},shape:"CIRCLE",size:48,className:j.s.mb16.$}),(0,s.jsx)("div",{className:j.s.textHeadingMedium.mb8.$,children:e.isCurfEnabledForMembers?(0,E.tx)("plan_settings.auto_approval_settings.title.curf_enabled_for_members"):(0,E.tx)("plan_settings.auto_approval_settings.title")}),(0,s.jsxs)("span",{children:[(0,s.jsx)("span",{className:j.s.textBodyMedium.colorTextSecondary.preWrap.$,children:g?e.isCurfEnabledForMembers?(0,E.tx)("plan_settings.auto_approval_settings_subtitle_ela_and_curf_enabled_for_members"):(0,E.tx)("plan_settings.auto_approval_settings_subtitle_ela"):e.isCurfEnabledForMembers?(0,E.tx)("plan_settings.auto_approval_settings.subtitle_curf_members"):(0,E.tx)("plan_settings.auto_approval_settings.subtitle")}),(0,s.jsx)(_.N,{href:"https://help.figma.com/hc/articles/4414038570007",newTab:!0,children:(0,E.tx)("plan_settings.auto_approval_settings.learn_about_seat_management_options")})]}),(0,s.jsxs)("div",{className:j.s.mt24.flex.flexColumn.gap24.mb8.$,children:[Object.keys(Y).map(e=>{let t=H[e];if((0,o.uy)(t))return null;let a=Y[e];return(0,o.uy)(a)?null:(0,s.jsx)(ea,{billableProductKey:e,isELA:g,isProrationBillingEnabled:x,isProvisionalAccessEnabled:A,planName:z.name,priceString:t,selectedUpgradeApprovalSetting:a,setUpgradeApprovalSetting:J,shouldHidePrice:Z},e)}),!!e.isCurfEnabledForMembers&&(0,s.jsx)(eo,{}),W&&!e.isCurfEnabledForMembers&&(0,s.jsx)(el,{}),(0,s.jsx)(ei,{failedToLoadPrices:"errors"===Q})]})]})}),(0,s.jsx)(m.wi,{children:(0,s.jsxs)(m.jk,{children:[(0,s.jsx)(I.$z,{variant:"secondary",onClick:()=>p.props?.close({source:"button"}),trackingProperties:{trackingDescriptor:L.c.CANCEL},children:(0,E.tx)("plan_settings.auto_approval_settings.cancel")}),(0,s.jsx)(I.$z,{variant:"primary",onClick:X,trackingProperties:{trackingDescriptor:z.key.type?z.key.type===C.OL.ORG?L.c.SAVE_FOR_ORGANIZATION:L.c.SAVE_FOR_TEAM:L.c.SAVE},children:z.key.type?z.key.type===C.OL.ORG?(0,E.tx)("plan_settings.auto_approval_settings.save_for_plan.organization"):(0,E.tx)("plan_settings.auto_approval_settings.save_for_plan.team"):(0,E.tx)("plan_settings.auto_approval_settings.save_for_plan.no_plan")})]})})]})})})}function ei({failedToLoadPrices:e}){return(n.useEffect(()=>{e&&(0,x.sx)("seat_purchasing.non_blocking_fetch_error",{price_fetch_error:e,view:"seat_approval_settings_modal"},{forwardToDatadog:!0})},[e]),e)?(0,s.jsx)(y._,{dataTestId:"pricing-error-badge",color:y.S.WARNING,padding:8,text:(0,E.tx)("plan_settings.auto_approval_settings.pricing_error")}):null}function el(){return(0,s.jsx)(M.fu,{name:U.e0.SCIM_INFO_BADGE,children:(0,s.jsx)(y._,{dataTestId:"scim-info-badge",color:y.S.INFORMATION,padding:8,text:(0,s.jsxs)(A.Y,{direction:"vertical",spacing:4,children:[(0,s.jsx)("p",{...g.xk(p.g.textBodyMediumStrong),children:(0,E.tx)("plan_settings.auto_approval_settings.scim_badge.title")}),(0,s.jsx)("p",{children:(0,E.tx)("plan_settings.auto_approval_settings.scim_badge.subtitle")})]})})})}function eo(){return(0,s.jsx)(M.fu,{name:U.e0.CURF_MEMBER_INFO_BADGE,children:(0,s.jsx)(y._,{dataTestId:"curf-member-only-info-badge",color:y.S.INFORMATION,padding:8,text:(0,s.jsxs)(A.Y,{direction:"vertical",spacing:4,children:[(0,s.jsx)("p",{className:j.s.textBodyMediumStrong.$,children:(0,E.tx)("plan_settings.auto_approval_settings.curf_badge.title")}),(0,s.jsxs)("p",{children:[" ",(0,E.tx)("plan_settings.auto_approval_settings.curf_badge.subtitle")]})]})})})}let ed=(0,V.Ju)(function(e){return(0,s.jsx)(b.tH,{boundaryKey:"AutoApprovalSettingsModal",fallback:b.H4.DEFAULT_FULL_PAGE,hasCustomWASMBuild:!1,children:(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(W.N,{hiddenTitle:"Auto Approval Settings",estimatedWidth:480,estimatedHeight:577}),children:(0,s.jsx)(er,{...e})})})});var ec=a(521428);let eu=(0,V.Ju)(function(e){let t=(0,B.S2)().unwrapOr(null),a=c.hS({open:e.open,onClose:e.onClose});return(0,s.jsx)(M.fu,{name:"Auto Approval Settings Modal (CURF All Users)",children:(0,s.jsx)(u.bL,{manager:a,width:480,children:(0,s.jsxs)(m.vo,{children:[(0,s.jsx)(m.nB,{children:(0,s.jsxs)("div",{className:j.s.pt32.px8.pb8.flex.flexColumn.$,"data-testid":"auto-approval-settings-modal-header",children:[(0,s.jsx)($.Ro,{entity:{...t,id:t?.id??void 0},shape:"CIRCLE",size:48,className:j.s.mb16.$}),(0,s.jsx)("div",{className:j.s.textHeadingMedium.mb8.$,children:(0,E.tx)("plan_settings.curf_auto_approval_settings_modal.title")}),(0,s.jsx)("span",{className:j.s.textBodyMedium.colorTextSecondary.$,children:(0,E.tx)("plan_settings.curf_auto_approval_settings_modal.description")})]})}),(0,s.jsx)(m.wi,{children:(0,s.jsx)(m.jk,{children:(0,s.jsx)(ec.$n,{variant:"primary",onClick:()=>a.props?.close({source:"button"}),children:(0,E.tx)("plan_settings.curf_auto_approval_settings_modal.got_it")})})})]})})})},"CurfAllUsersAutoApprovalSettingsModal");var em=a(156213);function e_({dispatch:e,currency:t,renewalTerm:a,isCurfEnabledForMembers:s}){return()=>{e(em.to({type:ed,data:{currency:t,renewalTerm:a,isCurfEnabledForMembers:s}}))}}function ep({dispatch:e}){return()=>{e(em.to({type:eu,data:{}}))}}},914022:(e,t,a)=>{let s;a.d(t,{Y:()=>E});var n=a(486106),r=a(7378),i=a(514228),l=a(437088),o=a(38914),d=a(272243),c=a(601108),u=a(490799),m=a(347284),_=a(589278),p=a(303541),g=a(831799),h=a(191312),x=a(617654),f=a(223084),v=a(834575),b=a(102752),y=a(805373),j=a(392626);function I(e){let t=(0,i.wA)(),a=l.hS({open:e.open,onClose:e.onClose}),s=(0,j.lM)(e.entryPoint),[b,I]=r.useState();r.useEffect(()=>{if((0,c.k)().can_transfer_admin_list)f.V.getTransferAdmins(e.planType,e.planId,e.resourceType,e.resourceIdOrKey).then(({data:e})=>{I(e.meta.map(e=>({id:e.id,name:e.name,email:e.email,imgUrl:e.img_url})))});else if(e.planType===h.OL.ORG){x.Eh.getOrgAdmins({orgId:e.planId}).then(({data:e})=>{I(e.meta)});return}else e.planType===h.OL.TEAM&&v.$.getTeamAdmins({teamId:e.planId}).then(({data:e})=>{I(e.meta)})},[e.planType,e.planId,e.resourceType,e.resourceIdOrKey,t]);let E=e.planName??(0,p.t)("general.fallback_team_name");return(0,n.jsx)(g.fu,{name:"Asset Transfer Admin List Modal",children:(0,n.jsx)(o.bL,{manager:a,width:"lg",children:(0,n.jsxs)(d.vo,{children:[(0,n.jsx)(d.Y9,{children:(0,n.jsx)(d.hE,{children:(0,p.tx)("asset_transfers.editor_admin_list_modal.admins_at_entity",{entity:E})})}),(0,n.jsxs)(d.nB,{scrolling:"none",children:[(0,n.jsx)(u._,{color:u.S.INFORMATION,text:s?(0,p.tx)("asset_transfers.editor_admin_list_modal.any_of_these_admins_can_transfer_this_project_to_an_external_organization"):(0,p.tx)("asset_transfers.editor_admin_list_modal.any_of_these_admins_can_transfer_this_team_to_an_external_organization")}),(0,n.jsx)(m.P,{className:"asset_transfer_admin_list_modal--scrollContainer--IG5YS",children:(0,n.jsx)("div",{className:"asset_transfer_admin_list_modal--contentContainer--u5vXu",children:(()=>{if(b){let e=b.map(e=>(0,n.jsx)("div",{className:_.s.py8.$,children:(0,n.jsx)(y.az,{entity:e,includeUserEmailAddress:!0,showIsMe:!1,hideFallbackInitial:!1},e.id)},e.id));return(0,n.jsx)("ul",{children:e})}})()})})]})]})})})}function E(){return s??=(0,b.Ju)(I,"AssetTransferAdminListModal")}},230712:(e,t,a)=>{a.d(t,{d:()=>A});var s=a(486106),n=a(7378),r=a(514228),i=a(437088),l=a(38914),o=a(272243),d=a(521428),c=a(950875),u=a(169182),m=a(675859),_=a(858013),p=a(589278),g=a(303541),h=a(302958),x=a(723768),f=a(156213),v=a(831799),b=a(55043),y=a(191312),j=a(465071),I=a(129884),E=a(32166),T=a(102752),S=a(397283);let A=(0,T.Ju)(function(e){let t=(0,r.wA)(),a=()=>{t(f.Ce())},T=(0,j.S2)().unwrapOr(null),A=i.hS({...e,onClose:a}),[w,N]=n.useState(!1),C=e.resourceConnectionInvite.hostPlan,R=e.resourceConnectionInvite.connectingPlan,k=(0,b.N)(T?.key,()=>{E.c.approveResourceConnectionInvite(e.resourceConnectionInvite.id).then(()=>{N(!1),a(),t(h.F.enqueue({message:(0,g.t)("resource_connection.visual_bell.connection_request_approved")}))}).catch(e=>{N(!1),a(),"Connecting plan has reached active connection and outgoing invite limit"===e.message?t(h.F.enqueue({message:T?.key.type===y.OL.TEAM?(0,g.t)("resource_connection.visual_bell.org_at_limit"):(0,g.t)("resource_connection.visual_bell.team_at_limit"),error:!0})):"Connecting plan cannot have external collaboration controls enabled"===e.message?t(h.F.enqueue({message:(0,g.t)("resource_connection.visual_bell.org_must_disable_ecc"),error:!0})):"Host settings"===e.message?t(h.F.enqueue({message:(0,g.t)("resource_connection.visual_bell.host_settings",{hostPlanName:C.name}),error:!0})):t(h.F.enqueue({message:(0,g.t)("resource_connection.visual_bell.generic_error"),error:!0}))})},e.resourceConnectionInvite.id);return T?(0,s.jsx)(v.fu,{name:"Project Connection Confirm Modal",properties:{folderId:e.resourceConnectionInvite.resourceId},children:(0,s.jsx)(l.bL,{manager:A,width:"lg",children:(0,s.jsxs)(o.vo,{children:[(0,s.jsx)(o.Y9,{children:(0,s.jsx)(o.hE,{children:(0,g.tx)("resource_connection.confirm_modal.connect_with_host_plan",{hostPlanName:C.name})})}),(0,s.jsxs)(o.nB,{padding:0,children:[(0,s.jsx)(m.oW,{src:(0,u.ck)("79f17ef7df0c5ed50af97e6c5e98651536c94352"),alt:"Connected projects logo",className:p.s.maxWFull.$}),(0,s.jsxs)("div",{className:p.s.flex.flexColumn.pl16.pr16.pt16.pb0.maxWFull.$,children:[(0,s.jsx)("p",{className:p.s.$,children:(0,g.tx)("resource_connection.confirm_modal.in_a_connected_project_anyone_you_invite_can_edit",{connectingPlanName:(0,s.jsx)("span",{className:p.s.fontSemiBold.$,children:R.name})})}),(0,s.jsx)("div",{className:S.fF,children:(0,s.jsx)("div",{className:S.yF})}),(0,s.jsxs)("div",{className:S.Kg,children:[(0,s.jsxs)("div",{className:S.F5,children:[(0,s.jsx)("p",{className:S.QU,children:(0,g.t)("resource_connection.project_name")}),(0,s.jsx)("p",{children:e.resourceConnectionInvite.resourceName})]}),(0,s.jsxs)("div",{className:S.F5,children:[(0,s.jsx)("p",{className:S.QU,children:(0,g.t)("resource_connection.host")}),(0,s.jsx)("p",{children:C.name})]}),(0,s.jsxs)("div",{className:S.F5,children:[(0,s.jsx)("p",{className:S.QU,children:(0,g.t)("resource_connection.invited_by")}),(0,s.jsx)("p",{children:e.resourceConnectionInvite.hostInviter?.name})]}),(0,s.jsxs)("div",{className:S.F5,children:[(0,s.jsxs)("div",{className:S.j1,children:[(0,s.jsx)("p",{className:S.QU,children:(0,g.t)("resource_connection.available_projects")}),(0,s.jsx)("div",{...T?.tier?{"data-tooltip":(0,g.t)("resource_connection.available_projects_tooltip",{connectedProjectLimit:x.b[T.tier],planType:(0,x.A)(T.tier)??""}),"data-tooltip-type":I.Ib.TEXT,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-show-below":!0}:{},children:(0,s.jsx)(c.B,{style:{"--color-icon":"var(--color-icon-secondary)"}})})]}),(0,s.jsx)("p",{children:T?T?.unlimitedConnectionsEnabled||T?.testingOnlyUnlimitedConnectionsEnabled?(0,g.t)("resource_connection.unlimited"):(x.b[T.tier]-(T?.connectionCount??0)).toString():""})]})]}),(0,s.jsx)("div",{className:S.fF,children:(0,s.jsx)("div",{className:S.yF})})]}),(0,s.jsxs)("div",{className:S.xQ,children:[(0,s.jsx)("a",{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",target:"_blank",className:p.s.mr8.$,children:(0,s.jsx)(d.$n,{variant:"link",onClick:e=>e.stopPropagation(),children:(0,g.tx)("resource_connection.request_modal.learn_more")})}),(0,s.jsxs)("div",{className:p.s.flex.gap8.itemsCenter.$,children:[(0,s.jsx)(d.$n,{variant:"secondary",onClick:()=>{E.c.denyResourceConnectionInvite(e.resourceConnectionInvite.id).then(()=>{N(!1),a(),t(h.F.enqueue({message:(0,g.t)("resource_connection.visual_bell.connection_request_denied")}))}).catch(e=>{N(!1),console.error("Error denying resource connection invite",e),t(h.F.enqueue({message:(0,g.t)("resource_connection.visual_bell.generic_error"),error:!0}))})},children:(0,g.tx)("resource_connection.confirm_modal.decline")}),w?(0,s.jsx)(d.$n,{disabled:!0,children:(0,s.jsx)(_.qc,{})}):(0,s.jsx)(d.$n,{onClick:k,children:(0,g.tx)("resource_connection.connect")})]})]})]})]})})}):(0,s.jsx)(s.Fragment,{})},"ResourceConnectConfirmModal")},417339:(e,t,a)=>{a.d(t,{r:()=>o,w:()=>d});var s=a(7378),n=a(514228),r=a(288654),i=a(929976),l=a(43951);function o(e){let t=(0,r.Rs)(l.Bl3,{id:e??""},{enabled:!!e}),a=(0,n.wA)();s.useLayoutEffect(()=>{"loaded"!==t.status||t.data.team||a(i.sf({view:"recentsAndSharing"}))},[t,a])}function d(e){let t=(0,r.Rs)(l.Bl3,{id:e??""},{enabled:!!e}),a=(0,n.wA)();s.useLayoutEffect(()=>{"loaded"!==t.status||t.data.team?.hasPermission||a(i.sf({view:"recentsAndSharing"}))},[t,a])}},511872:(e,t,a)=>{a.d(t,{n:()=>o});var s=a(7378),n=a(514228);if(443==a.j)var r=a(880327);var i=a(143832),l=a(156213);function o(e,t,a,o,d,c){let u=(0,n.wA)();return s.useCallback(()=>{void 0!==t&&(e===i.am.MEMBERS&&t.team.org_id?u(l.to({type:(0,r.T)(),data:{teamId:t.team.id,notifyOnSuccess:!0,initialView:0}})):u(l.to({type:i.ut,data:{tab:e,teamSettingsProps:t,canAdmin:a,canEdit:o,canView:d,entryView:c}})))},[t,e,u,a,o,d,c])}},961065:(e,t,a)=>{a.d(t,{e9:()=>k,Mn:()=>D});var s=a(486106),n=a(7378),r=a(514228),i=a(27355),l=a(663269),o=a(153916),d=a(288654),c=a(594947),u=a(919079),m=a(751457),_=a(714743),p=a(589278),g=a(303541),h=a(304671),x=a(845611),f=a(515088),v=a(451028),b=a(427161),y=a(28323),j=a(831799),I=a(84966),E=a(518077),T=a(684446),S=a(191312),A=a(43951),w=a(614170),N=a(129884);let C="admin_notifications_count_badge--yellowIcon--7SC5D";var R=a(57540);function k(e){let{getConfig:t}=(0,c.I7)("exp_all_admin_request_dash"),a=(0,d.Rs)(A.HpJ,{orgId:e.planId},{enabled:e.planType===x.ps.ORG}),r=!!("loaded"===a.status&&a.data?.org?.bigmaEnabledAt)&&t().get("enabled",!1)&&!!e.isOrgAdmin,o=(0,x.ZY)({isIntendedAudience:!!(e.planType===x.ps.ORG&&"loaded"===a.status&&a.data?.org?.bigmaEnabledAt)&&!1===e.isOrgAdmin}),m=e.isOrgAdmin?[null,...e.managedBillingGroups??[]]:e.managedBillingGroups,_=(0,d.Rs)(A.KR2,{planType:e.planType,planId:e.planId,filterParams:r||o?JSON.stringify({billing_group_ids:m}):e.isOrgAdmin?JSON.stringify({billing_group_ids:[null]}):JSON.stringify({billing_group_ids:[]})}),g="loaded"===_.status&&_.data.adminDashboardRequestsTotalCount.status===l.tT.Loaded&&("loaded"===a.status||e.planType===x.ps.TEAM)?_.data.adminDashboardRequestsTotalCount.data?.rowCount:void 0,h=g??0,[v,b]=(0,i.fp)(f.Y),y=r?[e.planType,e.planId,!0].toString():[e.planType,e.planId].toString();n.useEffect(()=>{if(g){let e={...v};e[y]=h,b(e)}return()=>{let e={...v};delete e[y],b(e)}},[e.isDataLoaded,g,y]);let j=(v[y]??0)+(e.billingStatusCount||0)+(e.taxStatusCount||0);if(j<1)return null;let I=u.zE.DEFAULT;return e.billingStatusCount||e.taxStatusCount?I=u.zE.WARNING:e.isSelected&&(I=u.zE.LIGHT),void 0!==g&&j>0&&e.isDataLoaded?(0,s.jsx)(u.Ex,{text:j.toString(),color:I,className:I===u.zE.DEFAULT?p.s.mr0.colorText.colorBgSelectedSecondary.$:p.s.mr0.$,dataTestId:"admin-notifications-badge"}):null}function q(e){let t=function(e,t){let a=(0,o.Xf)(e.id),s=(0,h.R)(),r=(0,T.MX)(),i=n.useMemo(()=>(0,I.Pn)(a.data),[a.data]),l=a.data?.invoices,d=(0,I.Yo)(s&&i?{planKey:{parentId:e.id,type:S.OL.ORG},nextRenewalDate:i}:null);return n.useMemo(()=>{let e=(0,v.ur)({invoices:l??[],licenseGroups:r,renewalConfirmed:d,userId:t.user_id,renewalAt:i});return e?.notification?1:0},[l,i,d,r,t.user_id])}(e.org,e.orgUser);return(0,s.jsx)(k,{isOrgAdmin:!1,isSelected:e.isSelected,planId:e.planId,planType:e.planType,billingStatusCount:t,managedBillingGroups:e.groupsUserIsAdminOf?e.groupsUserIsAdminOf.map(e=>e.id):[],taxStatusCount:void 0,isDataLoaded:void 0!==e.invoices})}function O(e){let t=function(e){let t=(0,o.Xf)(e.id),a=(0,h.R)(),s=(0,I.oU)(e),r=n.useMemo(()=>(0,I.Pn)(t.data),[t.data]),i=t.data?.invoices;return n.useMemo(()=>{if("loaded"!==t.status||!i||"loading"===s.status)return 0;let n=0;s.data?.show&&!s.data?.confirmed&&n++;let l=(0,v.uE)({invoices:i,org:e,campfireRenewalEnabled:a,renewalAt:r});return l?.notification&&n++,n},[a,i,e,t.status,s.data,s.status,r])}(e.org),a=(0,h.R)(),r=(0,T.EQ)(e.licenseGroups,e.orgUser.user_id,!1).groupsUserIsAdminOf.map(e=>e.id),i=e.taxIdVerificationStatus===S.kI.UNVERIFIED?1:0;return void 0!==e.taxIdVerificationStatus&&void 0!==e.invoices?(0,s.jsx)(k,{isOrgAdmin:!0,isSelected:e.isSelected,planId:e.planId,planType:e.planType,billingStatusCount:t,managedBillingGroups:r,taxStatusCount:a?0:i,isDataLoaded:void 0!==e.invoices}):null}var L=(e=>(e.WARNING="warning",e.NOTICE="notice",e))(L||{});function M(e,t,a,s,n,r){if(!s||!(0,w.i0)(s))return null;if(r){if(!n)return null;let{groupsUserIsAdminOf:e}=(0,T.EQ)(a,t.user_id,r),{groupsToReview:i}=(0,T.Cz)(e,s);if(0===i.length)return null}return{tooltipData:"",iconStyle:(0,w.m3)(s)?"admin_notifications_count_badge--redIcon--QvRuX":C,iconType:(0,w.m3)(s)?"warning":"notice"}}function P(e){return e!==S.kI.UNVERIFIED?null:{tooltipData:(0,g.t)("billing_status.tax_id.invalid"),iconStyle:C,iconType:"notice"}}function D(e){return(0,s.jsx)(m.tH,{boundaryKey:"OrgAdminBillingStatusBadge",fallback:(0,s.jsx)("div",{}),children:(0,s.jsx)(B,{...e})})}function F(e){let t=(0,r.wA)(),a=(0,T.MX)(),i=e.invoices&&(0,w.hX)(e.invoices),l=e.org.bigma_enabled&&e.orgUser.license_admin&&e.orgUser.permission!==S._D.ADMIN,o=(0,d.Rs)(A.Wt6,{orgId:e.org.id}),c="loaded"===o.status?o.data.org?.taxIdVerificationStatus:null;n.useEffect(()=>{i&&l&&t(y.Jt({forceRefetch:!1}))},[t,e.org.id,i,l]);let u=(()=>{switch(e.highlightType){case w.EZ.BILLING_STATUS:return M(e.org,e.orgUser,a,e.invoices,i,l);case w.EZ.TAX_ID_STATUS:return P(c);default:return M(e.org,e.orgUser,a,e.invoices,i,l)||P(c)}})();if(!u)return null;let m=`${u.iconStyle} ${e.inlineIcon?"admin_notifications_count_badge--inline--DETI2":""} ${e.alignTop?"admin_notifications_count_badge--multiLineIcon--6PT9X":""}`,p={};e.showTooltip&&(p["data-tooltip-type"]=N.Ib.TEXT,p["data-tooltip"]=u.tooltipData,p["data-tooltip-show-below"]=!0,p["data-tooltip-timeout-delay"]=50,p["data-tooltip-max-width"]=117);let g=(0,s.jsx)(_.B,{className:`admin_notifications_count_badge--warningSvg--sbgzs ${m}`,svg:R.A,useOriginalSrcFills_DEPRECATED:!0,...p}),h=e.showTooltip?(0,s.jsx)(b.Y,{className:m,dataTooltipType:p["data-tooltip-type"],dataTooltip:p["data-tooltip"],dataTooltipShowBelow:p["data-tooltip-show-below"],dataTooltipTimeout:p["data-tooltip-timeout-delay"],dataTooltipMaxWidth:p["data-tooltip-max-width"]}):(0,s.jsx)(b.Y,{className:m}),x="warning"===u.iconType?g:h;return(0,j.T8)(x,"Org Admin Billing Status Badge",{orgId:e.org.id,isCurrentUserLicenseAndNotOrgAdmin:l})}function B(e){let t=(0,r.wA)(),a=e.orgUser.permission===S._D.ADMIN,i=(0,T.RG)(),l=(0,T.MX)(),{groupsUserIsAdminOf:c}=(0,T.EQ)(l,e.orgUser.user_id,!a),u=(0,o.Xf)(e.org.id),m="loaded"===u.status?u.data?.invoices??[]:void 0;n.useEffect(()=>{t(y.Jt({forceRefetch:!1}))},[t,e.org.id]);let _=c[0]?.id,p=e.org.bigma_enabled&&i&&!!_,g=(0,E.NJ)(e.org.id).data??[],h=e.org.bigma_enabled&&g.length>0,f=a||p||h,v=(0,x.ZY)({isIntendedAudience:e.org.bigma_enabled&&!a}),b=(0,d.Rs)(A.Wt6,{orgId:e.org.id},{enabled:a}),j="loaded"===b.status?b.data.org?.taxIdVerificationStatus:void 0;return f?a?(0,s.jsx)(O,{planType:x.ps.ORG,planId:e.org.id,orgUser:e.orgUser,licenseGroups:l,taxIdVerificationStatus:j,invoices:m,isSelected:e.isSelected,org:e.org}):p?v?(0,s.jsx)(q,{invoices:m,groupsUserIsAdminOf:c,isSelected:e.isSelected,planId:e.org.id,planType:x.ps.ORG,orgUser:e.orgUser,org:e.org}):(0,s.jsx)(F,{invoices:m,showTooltip:!1,org:e.org,orgUser:e.orgUser}):null:null}},143832:(e,t,a)=>{a.d(t,{ut:()=>tw,am:()=>tj});var s=a(486106),n=a(7378),r=a(514228),i=a(656233),l=a(59509),o=a(363675),d=a(692618);a(82433);var c=a(778880),u=a(17223),m=a(751457);function _({children:e,loadingFallback:t,errorFallback:a,...r}){return(0,s.jsx)(m.tH,{fallback:a,...r,children:(0,s.jsx)(n.Suspense,{fallback:t,children:e})})}var p=a(858013),g=a(303541),h=a(590952);a(897289);var x=a(607410);let f=0;setInterval(()=>{f=0},3e3);var v=a(288654),b=a(191312),y=a(43951),j=a(557142),I=a(465776),E=a(536384),T=a.n(E),S=a(236327),A=a(714743),w=a(984674),N=a(929976),C=a(156213),R=a(842406),k=a(848862),q=a(372672),O=a(12796),L=a(351260),M=a(727738),P=a(129884),D=a(895626),F=a(805373),B=a(173822),U=a(524523),G=a(736956);let V=(0,U.ex)("restricted_edu_tooltip",function(e){let{text:t,title:a}=e;return(0,s.jsxs)("span",{className:G.Qq,children:[(0,s.jsx)("span",{style:{fontWeight:600},children:a})," ",t]})},e=>({title:e.getAttribute("data-tooltip-title"),text:e.getAttribute("data-tooltip-text")})),$="members_list_row--column--lYSr0",W="members_list_row--permissionsColumnModal--vpl7C members_list_row--column--lYSr0",z="members_list_row--roleRowWithRequestsModal--XkEe8 members_list_row--_membersListRowGridWithRequestsBase--lj--X",H="members_list_row--acceptDenyText--FS9XK text--fontPos13--xW8hS text--_fontBase--QdLsd blue_link--blueLink--9rlnd",Q="members_list_row--fixedContextMenu--7vBtK",Y="members_list_row--select--Dxew7 members_list_row--column--lYSr0",K="members_list_row--dropdownIcon--mJelI",X="members_list_row--avatarWithHandle--yirlt";var J=a(977613),Z=a(154709),ee=a(443105);let et="team-member-list-row-dropdown";function ea(e){let t=(0,r.wA)(),a=(0,q.Pc)(),i=(0,R.P)(),l=(0,k.Um)(),o=(0,n.useMemo)(()=>{let t=e.team?.team;return t?{teamName:t.name,isCurrentUserTeamOwner:t.isOwner,canMakeTeamMemberAdmin:t.canAdmin,canEditTeamMemberRole:(0,O.OL)(e.teamRole,!!t.canAdmin,!!t.canEdit)}:null},[e.team,e.teamRole]),d=n.useRef(null),c=()=>l&&l.type===et&&l.data.roleId===e.teamRole.id,u=a=>{if(c())t(N.oB());else{if(!d.current)return;let s=d.current?.getBoundingClientRect(),n=s.bottom+a>window.innerHeight,r=window.innerHeight-s.bottom;t(N.j7({type:et,data:{roleId:e.teamRole.id,position:{top:n?"auto":s.top,bottom:n?r:"auto",left:s.left-28,right:"auto"}}}))}},m=()=>{t((0,L.$S)({role:e.teamRole}))},_=a=>{(0,I.KF)(e.teamRole.resource_type===b.vt.TEAM,"MembersListRow is only for team roles");let s=()=>t((0,M.yN)({role:e.teamRole,level:a}));a===j.e6.OWNER?t((0,C.to)({type:B.b,data:{resourceType:e.teamRole.resource_type,resourceName:o?.teamName||"",newOwnerName:e.teamRole.user.handle,onConfirmTransfer:s}})):s()},p=(a,s)=>{e.isModal&&t(C.Ce()),t(N.sf({view:"user",userId:s.id,userViewTab:D.o.INTERNAL_PROFILE}))},h=(t,n)=>{let r;return e.teamRole.pending||(r=p),(0,s.jsx)(F.az,{className:e.isModal?"members_list_row--avatarWithHandleModal--EOxtN admin_settings_page--avatarWithHandle--awCiS ellipsis--ellipsis--Tjyfa":X,defaultFallbackAvatarSvg:e.teamRole.pending?J.A:void 0,defaultText:"--",enabled:e.teamRole.pending,entity:t,includeUserEmailAddress:n,initializableEntityProperties:["handle","name","email"],onClick:r,overrideHandle:n?t.handle||t.name||t.email:void 0,showIsMe:e.teamRole.user_id===a.id,size:24})},x=e.teamRole.pending?((e,t)=>{let a=i?.usersByEmail[e.user.email]||{};return{...a,...e.user,id:e.user.id,email:a?.email??t??e.user.email}})(e.teamRole,e.emailLg):e.teamRole.user;return(0,s.jsxs)("div",{className:T()({"members_list_row--roleRowWithRequests--Dmagz members_list_row--_membersListRowGridWithRequests--CLLCo members_list_row--_membersListRowGridWithRequestsBase--lj--X":!e.isModal,[z]:e.isModal}),"data-testid":"members-list-row",children:[e.isModal&&(0,s.jsx)("div",{className:"members_list_row--nameColumnModal--rT7n9 members_list_row--column--lYSr0",children:h(x,!0)}),!e.isModal&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"members_list_row--nameColumn--mEVQ- members_list_row--column--lYSr0 members_list_row--_hideWhenNarrow--8VpM-",children:h(x,!1)}),(0,s.jsx)("div",{className:"members_list_row--nameAndEmailColumn--8GdN6 members_list_row--column--lYSr0 members_list_row--_showWhenNarrow--FR1xk",children:h(x,!0)}),(0,s.jsx)("div",{className:"members_list_row--emailColumn--v-F6U members_list_row--column--lYSr0 members_list_row--_hideWhenNarrow--8VpM-",children:(0,s.jsx)(w.E,{truncate:!0,children:x.email})}),(0,s.jsx)("div",{})]}),(0,s.jsxs)("div",{className:e.isModal?W:$,children:[(()=>{if(e.isEduRestrictedLg)return(0,s.jsx)(A.B,{className:"members_list_row--warningIcon--G9r-7","data-tooltip":V,"data-tooltip-max-width":250,"data-tooltip-offset-y":10,"data-tooltip-text":(0,g.t)("team_view.upgrade.to_continue_editing_they_need_to_verify_their_education_status_at_www_figma_com_education_apply"),"data-tooltip-timeout-delay":50,"data-tooltip-title":(0,g.t)("team_view.upgrade.can_only_view",{teamMember:"handle"in e.teamRole.user?e.teamRole.user.handle:e.teamRole.user.email??""}),"data-tooltip-type":P.Ib.SPECIAL,dataTestId:"restricted-edu-user-tooltip",svg:ee.A})})(),(()=>{let t;let n=[],r=!1;if(e.teamRole.user_id!==a.id||o?.isCurrentUserTeamOwner){if(!o?.canEditTeamMemberRole)return(0,s.jsx)("span",{className:"members_list_row--nonDropdownPadding--a8tyP",children:(0,O.QN)(e.teamRole.level)});o?.isCurrentUserTeamOwner&&!e.teamRole.pending&&n.push(j.e6.OWNER),o?.canMakeTeamMemberAdmin&&n.push(j.e6.ADMIN),n.push(j.e6.EDITOR),n.push(j.e6.VIEWER),r=e.teamRole.pending}else n.push(e.teamRole.level);let i=-24*Math.max(0,n.indexOf(e.teamRole.level));return c()&&l.data&&l.data.position&&(t={...l.data.position},t.top+=i),(0,s.jsxs)("div",{ref:d,children:[(0,s.jsxs)("div",{className:Y,onClick:()=>u(120+i),children:[(0,s.jsx)("span",{children:(0,O.QN)(e.teamRole.level)}),(0,s.jsx)(A.B,{svg:Z.A,className:K})]}),c()&&(0,s.jsxs)(S.ms,{className:Q,style:t,children:[n.map(t=>(0,s.jsx)(S.MM,{onClick:e.teamRole.level!==t?()=>_(t):void 0,checked:e.teamRole.level===t,children:(0,O.QN)(t)},t)),(0,s.jsx)(S.wv,{}),r&&(0,s.jsx)(S.c$,{onClick:m,children:(0,g.tx)("file_browser.team.resend_invite")}),(0,s.jsx)(S.c$,{onClick:()=>_(j.e6.NONE),children:e.teamRole.user_id!==a.id||o?.isCurrentUserTeamOwner?(0,g.tx)("file_browser.team.remove_confirm"):(0,g.tx)("file_browser.team.leave_confirm")})]})]})})()]})]})}var es=a(449184),en=a(494261);let er="team-pending-member-role-request-dropdown",ei=()=>{let e=(0,r.d4)(e=>e.dropdownShown);return e&&e?.type===er?e:null};function el(e){let t=(0,r.wA)(),a=ei(),i=n.useRef(null),[l,o]=n.useState(e.request.level),d=(0,r.d4)(t=>e.request.teamId&&t.roles.byTeamId[e.request.teamId]?t.roles.byTeamId[e.request.teamId][e.request.user.id]:null),c=n.useMemo(()=>d?[j.e6.EDITOR]:[j.e6.VIEWER,j.e6.EDITOR],[d]),u={id:e.request.user.id,img_url:e.request.user.imgUrl,handle:e.request.user.handle,name:e.request.user.name??"",email:e.request.user.email??""},m=s=>{if(a)t(N.oB());else{let a=i&&i.current&&i.current.getBoundingClientRect(),n=a?.bottom??0+s>window.innerHeight,r=window.innerHeight-(a?.bottom??0);t(N.j7({type:er,data:{requestId:e.request.id,position:{top:n?"auto":a?.top,bottom:n?r:"auto",left:a?.left??-28,right:"auto"}}}))}},_=e=>{o(e),t(N.oB())},p=n.useMemo(()=>-24*Math.max(0,c.indexOf(l)),[l,c]),h=n.useMemo(()=>{let e;return a&&a.data&&a.data.position&&(e={...a.data.position},e.top+=p),e},[a,p]),x={request_id:e.request.id,team_id:e.request.teamId,type:l,response:"accept",source:"TeamPendingMembersRow"};return(0,s.jsxs)("div",{className:z,children:[(0,s.jsx)("div",{className:$,children:(0,s.jsx)(F.az,{entity:u,initializableEntityProperties:["handle","name","email"],size:24,className:X,onClick:(e,a)=>{t(N.sf({view:"user",userId:a.id,userViewTab:D.o.INTERNAL_PROFILE}))},overrideHandle:u.handle||u.name||u.email,defaultText:"--"})}),(0,s.jsxs)("div",{className:T()($,"members_list_row--flexRight--iwR1Y"),children:[(0,s.jsx)("span",{onClick:()=>{x.response="deny",(0,es.sx)("permission_request_responded",x),t(en.UF({requestId:e.request.id}))},className:H,role:"button",tabIndex:-1,children:(0,g.tx)("file_browser.team.dismiss")}),(0,s.jsx)("span",{onClick:()=>{(0,es.sx)("permission_request_responded",x),t(en.Jd({requestId:e.request.id,level:l,teamId:e.request.teamId,email:e.request.user.email??"",user:u}))},className:H,role:"button",tabIndex:-1,children:(0,g.tx)("file_browser.team.approve")})]}),(0,s.jsx)("div",{className:W,children:(0,s.jsxs)("div",{ref:i,children:[(0,s.jsxs)("div",{className:Y,role:"button",tabIndex:0,onClick:()=>{c.length>1&&m(120+p)},children:[(0,s.jsx)("span",{children:(0,O.QN)(l)}),c.length>1&&(0,s.jsx)(A.B,{svg:Z.A,className:K})]}),a&&a.data.requestId===e.request.id&&c.length>1&&(0,s.jsx)(S.ms,{className:Q,style:h,children:c.map(e=>(0,s.jsx)(S.MM,{onClick:l!==e?()=>{_(e)}:void 0,checked:l===e,children:(0,O.QN)(e)},e))})]})})]})}function eo({teamRoleRequests:e}){let t=e?.team?.pendingTeamRoleRequests??[];return 0===t.length?null:(0,s.jsxs)(s.Fragment,{children:[t.map(e=>(0,s.jsx)(el,{request:e},e.id)),(0,s.jsx)("div",{className:"members_list_row--pendingRequestDividerModal--tjuPV members_list_row--pendingRequestDivider--djtil"})]})}function ed(e){let[t,a,i]=function(e,t){let a=Array.isArray(e)?e:[e],s=a.filter(e=>"loading"===e.status);s.length>0&&(f++,s.forEach(e=>e.suspense.retain()),(0,x.WE)(Promise.all(s.map(e=>e.suspense.getPromise()))));let r=a.filter(e=>"errors"===e.status);if(r.length>0)throw r[0]?.errors;let i=a.map(e=>e.data),l=a.filter(e=>"loading"!==e.status);return(0,n.useEffect)(()=>{l.forEach(e=>e.suspense.release())},[l]),1===i.length?i[0]:i}([(0,v.Bh)((0,y.N66)({teamId:e.teamId})),(0,v.Bh)((0,y.yQw)({teamId:e.teamId})),(0,v.Bh)((0,y.Cb9)({teamId:e.teamId}))]),l=n.useMemo(()=>t?.team?.roles.reduce((e,a)=>{let s=!!t?.team?.studentTeamAt;return e[ec({id:a.id,user_id:a.userId,pending:a.pending})]=function(e,t){let a={id:t.id,created_at:t.createdAt.toISOString(),updated_at:t.updatedAt.toISOString(),level:t.level,resource_type:b.vt.TEAM,resource_id_or_key:t.resourceId,hasValidEduGracePeriod:!!t.eduGracePeriod?.isValid,isStudent:!!t.user?.studentValidatedAt,isStudentTeam:e};return t.pending?{...a,user_id:null,pending:!0,pendingEmail:t.pendingEmail,user:{id:t.user?.id??"",email:t.pendingEmail??void 0}}:{...a,user_id:t.userId,pending:!1,pendingEmail:null,user:{id:t.user?.id??"",email:t.user?.email??"",img_url:t.user?.imgUrl??"",handle:t.user?.handle??""}}}(s,a),e},{})??{},[t]),o=(0,r.d4)(t=>t.teamMembersByTeamId[e.teamId]||{}),d=e=>{let t=l[ec(e)];return!!t&&!!t.isStudentTeam&&t.level!==j.e6.VIEWER&&!e.pending&&!t.level&&!(t.isStudent||t.hasValidEduGracePeriod)},c=e=>{let t=l[ec(e)];return t?.user?.email??null},u=(()=>{let e={};return Object.values(o).forEach(t=>{t.team_role&&(e[t.team_role.id]=t)}),e})(),m=(()=>{let e=[],t={},a=new Set;Object.values(l).forEach(s=>{if(s.pending){e.push(s);return}t[s.user.id]=s,a.add(s.user?.email)});let s=e.filter(e=>!a.has(e.user?.email));return Object.values(t).concat(...s).sort((e,t)=>!0===e.pending&&!0===t.pending?e.user.email.toLowerCase()<t.user.email.toLowerCase()?-1:1:!0===e.pending?1:!0===t.pending?-1:e.user.handle.toLowerCase()<t.user.handle.toLowerCase()?-1:1)})(),_=!m.some(e=>e.level===j.e6.OWNER||e.level===j.e6.ADMIN);return 0===m.length?(0,s.jsx)("div",{children:(0,g.tx)("file_browser.team.no_members")}):(0,s.jsxs)("div",{children:[(0,s.jsx)(eo,{teamRoleRequests:i}),m.map(t=>(0,s.jsx)("div",{className:"members_list--memberRowForModal--g9CYe",children:(0,s.jsx)(ea,{teamId:e.teamId,teamMember:u[t.id],teamRole:t,teamIsOrphaned:_,isModal:!0,team:a,isEduRestrictedLg:d(t),emailLg:c(t)},`team-role-${t.id}`)},t.id))]})}function ec(e){return e.pending?`pending-${e.id}`:e.user_id??""}var eu=a(350402),em=a(14223),e_=a(831799),ep=a(864281),eg=a(672897),eh=a(165519),ex=a(502247),ef=a(952832),ev=a(548208),eb=a(102752),ey=a(102449),ej=a(918700);function eI(e){return(0,s.jsxs)("div",{className:"mobile_settings_tool_bar--fixedToolbar--DJIrS",style:{width:e.width},children:[(0,s.jsx)("div",{className:"mobile_settings_tool_bar--tabContainer--yD8Zf",children:e.tabs}),(0,s.jsx)(u.s_,{dispatch:e.dispatch,customStyle:{position:"static",marginTop:"8px",marginRight:"15px",marginLeft:"auto"}})]})}var eE=a(4979),eT=a(54367),eS=a(589278),eA=a(345997),ew=a(598018);function eN(e){let t=(0,r.d4)(e=>e.roles||{});return(0,eA.n0)(e.team)&&e.canAdmin?(0,s.jsx)("div",{className:eS.s.font12.lh16.pt8.pr32.pb16.pl4.colorText.$,children:(0,g.tx)("file_browser.team_settings_modal.paid_status_explanation_no_link")}):(0,s.jsx)("div",{className:"team_settings_modal--membersHeader--Ac-UZ",children:(0,s.jsxs)(w.E,{color:"secondary",fontSize:12,children:[e.team.name,(0,g.tx)("file_browser.team_settings_modal.members_tab_header",{numMembers:(0,ew.pG)(t,e.team.id).length})]})})}var eC=a(950875),eR=a(601108),ek=a(663269),eq=a(566371),eO=a(919079),eL=a(223767),eM=a(392626),eP=a(914022),eD=a(840214),eF=a(693444),eB=a(857431),eU=a(482142),eG=a(370443),eV=a(640017),e$=a(121751),eW=a(391338),ez=a(713695),eH=a(642025),eQ=a(465071),eY=a(763242),eK=a(831101),eX=a(542608),eJ=a(472024),eZ=a(179602),e0=a(708054),e1=a(130634),e4=a(154301),e5=a(907616),e3=a(331328),e8=a(634656),e2=a(266226),e6=a(49800),e7=a(637027),e9=a(573154),te=a(830372),tt=a(321313),ta=a(966231),ts=a(834575),tn=a(519092);let tr={spinner:"ai-settings-spinner",dataSharingEnabledSwitch:"ai-settings-ai-enabled-switch",aiEnabledSwitch:"ai-settings-data-sharing-enabled-switch",aiEnabledButton:"ai-settings-ai-enabled-button"},ti=(0,eb.Ju)(function(){let e=(0,r.wA)(),t=(0,ew.cD)(),a=(0,v.Rs)((0,y.ZY7)({teamId:t})),n=a.data?.team,i=!n,l=!!n?.studentTeamAt&&!n?.isAiDataSharingEnabled,o=!!n?.aiFeaturesDisabledAt,d=(0,eR.k)().ai_ga,c=async a=>{try{await ts.$.updateAiFeaturesDisabled({teamId:t,aiFeaturesDisabled:!a});let s=a?(0,g.t)("admin_settings.ai.enable_success"):(0,g.t)("admin_settings.ai.disable_success");e(e9.s.flash(s))}catch{e(e9.s.error((0,g.t)("file_browser.file_browser_actions.team_update_error")))}},u=async a=>{try{await ts.$.updateAiDataSharing({teamId:t,enabled:a}),(0,es.sx)("ai_data_sharing_toggled",{team_id:t,enabled:a}),e(e9.s.flash((0,g.t)("admin_settings.ai.data_sharing.update_success")))}catch(t){e(e9.s.error((0,g.t)("admin_settings.ai.data_sharing.update_error")))}},m=null;return d?o&&(m=(0,s.jsx)(te.Y,{children:(0,s.jsx)(tt.p,{onEnable:()=>c(!0),planId:t,planType:b.OL.TEAM,testId:tr.aiEnabledButton})})):m=(0,s.jsxs)(te.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"start",children:[(0,s.jsxs)(te.Y,{direction:"vertical",spacing:4,children:[(0,s.jsx)(w.E,{fontWeight:"medium",children:(0,g.tx)("admin_settings.ai.features_toggle.label")}),(0,s.jsx)(w.E,{color:"secondary",children:(0,g.tx)("admin_settings.ai.features_toggle.description.team",{learnMoreLink:(0,s.jsx)(e7.CY,{href:ta.d.aiFeatures,target:"_blank",trusted:!0,children:(0,s.jsx)(w.E,{children:(0,g.tx)("general.learn_more")})})})})]}),(0,s.jsx)(e6.d,{label:(0,s.jsx)(s.Fragment,{}),checked:!n?.aiFeaturesDisabledAt,onChange:c,htmlAttributes:{"data-testid":tr.aiEnabledSwitch}})]}),(0,s.jsx)(tn.OJ,{title:(0,s.jsxs)(te.Y,{width:"hug-contents",padding:{left:8},children:[(0,s.jsx)(w.E,{fontWeight:"medium",children:(0,g.tx)("admin_settings.ai.section_title")}),!d&&(0,s.jsx)(eO.Ex,{color:eO.zE.BRAND,text:(0,g.t)("general.beta")})]}),onClose:()=>{e(C.Lo())},fixedTop:!0,children:i?(0,s.jsx)(te.Y,{padding:64,children:(0,s.jsx)(p.qc,{testId:tr.spinner})}):(0,s.jsxs)(te.Y,{direction:"vertical",padding:{top:20,left:16,right:16,bottom:16},spacing:16,children:[m,(0,s.jsxs)(te.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"start",children:[(0,s.jsxs)(te.Y,{direction:"vertical",spacing:4,children:[(0,s.jsx)(w.E,{fontWeight:"medium",children:(0,g.tx)("admin_settings.ai.data_sharing.label")}),(0,s.jsx)(w.E,{color:"secondary",children:(0,g.tx)("admin_settings.ai.data_sharing.description.team",{learnMoreLink:(0,s.jsx)(e7.CY,{href:ta.d.aiDataSharing,target:"_blank",trusted:!0,children:(0,s.jsx)(w.E,{children:(0,g.tx)("general.learn_more")})})})})]}),(0,s.jsx)(e6.d,{label:(0,s.jsx)(s.Fragment,{}),checked:n.isAiDataSharingEnabled,onChange:u,disabled:l,htmlAttributes:{"data-testid":tr.dataSharingEnabledSwitch,"data-tooltip":l?(0,g.t)("admin_settings.ai.data_sharing.disabled_for_student_teams"):void 0,"data-tooltip-type":P.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-tip-align-right":!0}})]})]})})},"TEAM_AI_SETTINGS_MODAL"),tl="settings_view--blueLink--F3vR6 blue_link--blueLink--9rlnd",to="settings_view--redLink--LDeOm blue_link--blueLink--9rlnd",td="settings_view--section--jKGaH",tc="settings_view--sectionHeader--BTMnl text--fontPos13--xW8hS text--_fontBase--QdLsd",tu="settings_view--upgradeBanner--RCQfq",tm="settings_view--upgrageBannerIcon--yMYzd",t_="settings_view--upgradeBannerBody--n82sx",tp="settings_view--blueLinkForBanner--b0V8l settings_view--blueLink--F3vR6 blue_link--blueLink--9rlnd",tg="settings_view--accessIcon--7RIy3";var th=a(663128),tx=a(401431),tf=a(442539);function tv(e){let t=(0,r.wA)(),a=(0,eV.DP)(),i=e.team,l=(0,r.d4)(e=>(0,eH.getPermissionsState)(e)),o=i.org_id?l.orgById[i.org_id]:null,d=(0,n.useMemo)(()=>({teamId:i.id,orgId:i.org_id,canAdmin:(0,eH.canAdminTeam)(i.id,l),description:i.description||"",communityProfileHandle:i.community_profile_handle,communityProfileId:i.community_profile_id}),[i,l]),[c]=(0,ez.IT)((0,y.vD4)({teamId:e.team.id})),[u]=(0,eq.mI)(c),m=(0,n.useMemo)(()=>{if("loaded"!==u.status||!u.data.team)return null;let t=u.data.team;return{teamId:e.teamId,orgId:t?.orgId,canAdmin:t?.canAdmin,description:t?.description||"",communityProfileId:t?.communityProfile?.id||null,communityProfileHandle:t?.communityProfile?.profileHandle??null}},[u,e.teamId]),_=(0,eW.u8)({oldValue:d,newValue:m,label:eW.A5.TeamSettingsView.teamInfo,enableFullRead:(0,e$.DQ)(e$.Pw.GROUP_7),contextArgs:{teamId:e.teamId}}),p=(0,n.useMemo)(()=>{if("loaded"!==u.status||!u.data.team||!u.data.team.currentPlanUser)return null;let e=u.data.team.currentPlanUser,t=u.data.team.plan.tier;return{isProOrStudentTeam:t===b.Ag.PRO||t===b.Ag.STUDENT,isStudentTeam:t===b.Ag.STUDENT,canAdminOrg:!!e&&(0,eQ.A8)(e,b.Xn.ADMIN),isOrgGuest:e?.key.type===b.h4.ORG_USER&&e?.permission===b.Xn.GUEST}},[u]),h=!p?.isOrgGuest,x=p?.canAdminOrg||_?.canAdmin&&!_?.orgId,f=!!(0,r.d4)(e=>(0,eY.p)(e)),j=(0,e8.X8)(!!u.data?.team?.canEdit,(0,eQ.zQ)(u.data?.team?.plan??null)),I=e.billing.summary.annual_subscription,E=e.billing.summary.monthly_subscription,T=!!I&&!I.canceled_at,S=!!E&&!E.canceled_at,R=!_?.orgId&&!p?.isProOrStudentTeam&&_?.canAdmin,k=n.useMemo(()=>{if("loaded"===u.status&&u.data)return u.data.team?.workspace},[u]),q=u.data?.team&&ek.oA(u.data.team)?.hasActiveProjectConnection,O=(0,v.Rs)(y.WEk,{teamId:i.id}),L=(0,eR.k)().ai_ga,M=O.data?.team?.pendingAssetTransferRequest,D=M&&{id:M.id,source_user_email:M.sourceUser?.email,destination_user_email:M.destinationUser?.email,is_transfer_copy:M.isTransferCopy}||void 0;if("loaded"!==u.status)return null;let B=()=>{if(!p?.isProOrStudentTeam){t((0,C.to)({type:eL.V,data:{teamId:_?.teamId,upsellSource:eh.b.TEAM_SETTINGS_MODAL,openCheckoutInNewTab:!0,onDone:()=>{t(C.ES({type:"TEAM_SETTINGS_MODAL"}))}}}));return}t(eU.Bq({openInNewTab:!0,upsellSource:eh.b.TEAM_SETTINGS_VIEW,entryPoint:eK.TN.PRO_TEAM_SETTINGS_MODAL}))},U=e=>{t((0,C.to)({type:e4.H,data:{team:i,subscriptionStatus:e}}))},G=e=>e.sharing_audience_control?e.sharing_audience_control:e.org_access?e.org_access===b.bU.PUBLIC&&"edit"===e.default_permission?b.PQ.ORG_EDIT:e.org_access===b.bU.PUBLIC?b.PQ.ORG_VIEW:void 0:b.PQ.INVITE_ONLY;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:td,children:[(0,s.jsx)("div",{className:tc,children:(0,g.tx)("file_browser.team_settings.team_name")}),(0,s.jsx)("div",{children:i.name}),_?.canAdmin&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tl,onClick:()=>{t((0,C.to)({type:(0,eB.h)(),data:{team:i}}))},children:(0,g.tx)("file_browser.team_settings.change_name")})})]}),(_?.canAdmin||_?.description)&&(0,s.jsxs)("div",{className:td,children:[(0,s.jsx)("div",{className:tc,children:(0,g.tx)("file_browser.about")}),(0,s.jsx)("div",{children:_?.description}),_?.canAdmin&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tl,onClick:()=>{t((0,C.to)({type:(0,eD.r)(),data:{team:i}}))},children:_?.description?(0,g.tx)("file_browser.team.change_description"):(0,g.tx)("file_browser.team.add_a_description")})})]})]}),_?.canAdmin&&i.org_access!==b.bU.SECRET&&(0,s.jsxs)("div",{className:td,children:[(0,s.jsx)("div",{className:tc,children:(0,g.tx)("file_browser.team_settings_modal.community_profile")}),(0,s.jsx)("div",{children:_?.communityProfileHandle?(0,g.t)("file_browser.team_settings.team_community_handle",{communityProfileHandle:_?.communityProfileHandle}):""}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tl,onClick:()=>{t((0,C.to)({type:e0.S3,data:{teamId:_?.teamId,profileId:_?.communityProfileId||"",profileHandle:_?.communityProfileHandle||""}}))},children:_?.communityProfileHandle?(0,g.t)("file_browser.team_settings.change_profile_handle"):(0,g.t)("file_browser.team_settings.set_profile_handle")})}),_?.communityProfileHandle&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tl,onClick:()=>{_?.communityProfileId&&_?.communityProfileHandle&&t((0,C.to)({type:e1.M,data:{dispatch:t,profileId:_?.communityProfileId,handle:_?.communityProfileHandle}}))},children:(0,g.tx)("file_browser.team_settings.delete_profile")})}),_?.communityProfileHandle&&_?.orgId&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tl,onClick:()=>{_?.communityProfileId&&t((0,C.to)({type:eZ.J,data:{profileId:_?.communityProfileId||"",profileHandle:_?.communityProfileHandle||"",emptyStateText:(0,g.t)("file_browser.team_settings.community_restricted_handles",{communityProfileHandle:_?.communityProfileHandle||""})}}))},children:(0,g.tx)("file_browser.team_settings.manage_restricted_commenters")})})]}),(0,s.jsxs)("div",{className:td,children:[(0,s.jsx)("div",{className:tc,children:_?.orgId?(0,g.tx)("file_browser.team_settings.shared"):(0,g.tx)("file_browser.team_settings_modal.libraries")}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tl,onClick:()=>{t((0,C.to)({type:eJ.T,data:{teamId:_?.teamId,entrypoint:eX.r6.TEAMS_SETTINGS_VIEW_TEAM_LIBRARIES}}))},children:(0,g.tx)("file_browser.team_settings.view_team_libraries")})}),f&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tl,onClick:()=>{t((0,C.to)({type:eJ.lN,data:{entrypoint:eX.r6.TEAMS_SETTINGS_VIEW_TEAM_FONTS}}))},children:(0,g.tx)("file_browser.team_settings.view_team_fonts")})}),j&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tl,onClick:()=>{t((0,C.to)({type:e2.j,data:{showMakeDefaultButton:!0,entryPoint:"team settings",theme:"dark"===a?"dark":"light"}}))},children:(0,g.tx)("file_browser.team_settings.view_team_figjam_palettes")})})]}),_?.orgId!=null&&i.org_access&&(0,s.jsxs)("div",{className:td,children:[(0,s.jsx)("div",{className:tc,children:(0,g.tx)("file_browser.settings.access")}),(0,s.jsxs)("div",{children:[(()=>{let e=G(i),t=k||null,a=(0,s.jsx)(A.B,{className:tg,svg:tx.A});return(e===b.PQ.ORG_EDIT||e===b.PQ.ORG_VIEW)&&o?a=(0,s.jsx)("div",{className:tg,children:(0,s.jsx)(A.B,{svg:tf.A})}):(e===b.PQ.WORKSPACE_EDIT||e===b.PQ.WORKSPACE_VIEW)&&(a=(0,s.jsx)("div",{className:tg,children:t&&(0,s.jsx)(F.z6,{entity:t,size:20})})),(0,s.jsxs)("div",{className:"settings_view--accessDescription--qxQcN",children:[a,(0,s.jsx)("div",{children:(0,e5.wO)(b.vt.TEAM,o,t,e)})]})})(),_?.canAdmin&&o&&(0,s.jsx)("span",{role:"button",tabIndex:0,className:"settings_view--editAccessLink--HOsAC modal--blueLink--9GcJu blue_link--blueLink--9rlnd",onClick:()=>{t((0,C.to)({type:e3.dW,data:{team:i,goBack:()=>{t((0,C.Lo)())}}}))},children:(0,g.tx)("team_view.team_permissions_modal.change")})]}),!_?.canAdmin&&(0,s.jsx)("div",{children:(0,s.jsx)(w.E,{color:"secondary",children:(0,g.tx)("file_browser.team_settings.team_admins_and_owners_can_change")})})]}),R&&(0,s.jsxs)("div",{className:td,children:[(0,s.jsxs)("div",{className:tc,children:[(0,g.tx)("admin_settings.ai.section_title"),!L&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:eS.s.inlineFlex.ml8.$,children:(0,s.jsx)(eO.Ex,{color:eO.zE.BRAND,text:(0,g.t)("general.beta")})}),(0,s.jsx)(eC.B,{"data-tooltip-type":P.Ib.TEXT,"data-tooltip":(0,g.t)("admin_settings.ai.section_title.free_in_beta"),"data-tooltip-timeout-delay":50})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tl,onClick:()=>{t((0,C.to)({type:ti}))},children:(0,g.tx)("admin_settings.ai.manage_settings_link")})})]}),p?.isProOrStudentTeam&&!p?.isStudentTeam&&_?.canAdmin&&(0,s.jsxs)("div",{className:td,children:[(0,s.jsx)("div",{className:tc,children:(0,g.tx)("settings_table.plan_and_billing")}),(0,s.jsx)("div",{children:(0,g.tx)("file_browser.team_settings_modal.admin_console_billing_nudge")}),(0,s.jsx)("button",{className:tl,onClick:()=>{t(N.sf({view:"teamAdminConsole",teamId:e.team.id,teamAdminConsoleViewTab:ev.Iv.BILLING})),t((0,C.Lo)())},children:(0,g.tx)("file_browser.team_settings_modal.admin_console_billing_button")})]}),h&&(0,s.jsxs)("div",{className:td,children:[(0,s.jsx)("div",{className:tc,children:(0,g.tx)("file_browser.team_settings.transfer")}),(0,s.jsxs)("div",{children:[D&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(0,g.tx)("file_browser.team_settings.source_user_sent_destination_user_a_request_to_transfer_this_team",{sourceUserEmail:D.source_user_email,destinationUserEmail:D.destination_user_email})}),x&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:to,onClick:()=>{D&&t(C.to({type:(0,eF.d)(),data:{pending:D,canRevokeProjectTransfer:!0,isTransferTeam:!0}}))},children:(0,g.tx)("file_browser.folder_settings.revoke")})})]}),!D&&x&&(q?(0,g.tx)("file_browser.team_settings.transfer_teams_without_active_connected_projects"):(0,g.tx)("file_browser.team_settings.transfer_team_link_to_an_external_organization",{transferTeamLink:(0,s.jsx)("button",{className:tl,onClick:()=>{t((0,C.to)({type:(0,eM.Lg)(),data:{teamId:i.id,entryPoint:eM.Lq.ORG_TEAM_SETTINGS}}))},children:(0,g.tx)("file_browser.team_settings.transfer_team")})})),!D&&!x&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(0,g.tx)("file_browser.team_settings.only_org_name_admins_can_select_an_external_organization_to_manage_this_team",{orgName:o?.name})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tl,onClick:()=>{t((0,C.to)({type:(0,eP.Y)(),data:{planId:i.org_id||i.id,planType:i.org_id?b.OL.ORG:b.OL.TEAM,planName:i.name,entryPoint:eM.Lq.ORG_TEAM_SETTINGS,resourceType:"team",resourceIdOrKey:i.id}}))},children:(0,g.tx)("file_browser.team_settings.see_who_can_help_with_transfers")})})]})]})]}),!p?.isProOrStudentTeam&&!_?.orgId&&_?.canAdmin&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:td,children:[(0,s.jsx)("div",{className:tc,children:(0,g.tx)("team_view.settings_table.delete_team")}),(0,s.jsx)("div",{children:(0,g.tx)("team_view.settings_table.delete_team_description")}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:to,onClick:()=>U(T||S),children:(0,g.tx)("file_browser.team_settings.delete_team")})})]}),(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)(A.B,{className:tm,svg:th.A}),(0,s.jsxs)("div",{className:t_,children:[(0,s.jsx)("strong",{children:(0,g.tx)("upgrade.ready_to_go_beyond_free_plan")}),(0,s.jsxs)("div",{children:[(0,g.tx)("upgrade.more_features"),(0,s.jsx)(e_.$z,{className:tp,onClick:B,trackingProperties:{trackingDescriptor:eG.c.UPGRADE,upsellSource:eh.b.TEAM_SETTINGS_MODAL},children:(0,g.tx)("upgrade.view_plans")})]})]})]})]}),p?.isProOrStudentTeam&&_?.canAdmin&&(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)(A.B,{className:tm,svg:th.A}),(0,s.jsx)("div",{className:t_,children:(0,s.jsxs)("div",{children:[(0,g.tx)("file_browser.team_settings_modal.upgrade_to_organization"),(0,s.jsx)(e_.$z,{className:tp,onClick:B,trackingProperties:{trackingDescriptor:eG.c.UPGRADE_TO_ORGANIZATION,upsellSource:eh.b.TEAM_SETTINGS_MODAL},children:(0,g.tx)("file_browser.team_settings_modal.upgrade")})]})})]})]})}var tb=a(783902);let ty=(0,eT.rw)();var tj=(e=>(e.SETTINGS="SETTINGS",e.MEMBERS="MEMBERS",e))(tj||{});let tI=(0,eu.nF)(async(e,{teamId:t,canViewTeam:a})=>{await ex.kb.promise,t&&a&&(0,eg.xN)(t,e)});function tE(e){let t={MEMBERS:(0,g.t)("file_browser.team_settings_modal.members_tab"),SETTINGS:(0,g.t)("file_browser.team_settings_modal.settings_tab")},a=n.useRef(null),{setToolbarWidth:r}=e;n.useEffect(()=>{if(a){let e=a.current?.offsetWidth;e&&r(e)}},[r]);let l=e.team.org_id,o=l?[(0,s.jsx)("div",{className:"team_settings_modal--settingsHeader--tGppe",children:t.SETTINGS},"SETTINGS")]:(0,i.WI)(Object.entries(t).map(([t,a])=>{if("SETTINGS"===t&&e.canEditTeam||"MEMBERS"===t)return(0,s.jsx)(ty,{tab:t,mobileNavTabTitle:a,selectedTab:e.selectedTab,onClick:()=>e.setTab(t),children:a},t)}));return e.isMobile?(0,s.jsx)(eI,{tabs:o,dispatch:e.dispatch,width:"100vw"}):(0,s.jsxs)("div",{className:"team_settings_modal--settingsModalToolbarFixedContainer--oecTk",style:{minWidth:e.contentWidth},ref:a,children:[(0,s.jsx)(eE.i,{containerClassName:`${l?"team_settings_modal--toolBarSettingsOnly--281il team_settings_modal--toolBarContainer--O-2hM":"team_settings_modal--toolBarContainerFullWidth--XliLu team_settings_modal--toolBarContainer--O-2hM"} team_settings_modal--borderRadius--NeGkl`,tabs:o}),(0,s.jsx)(u.s_,{dispatch:e.dispatch,className:l?"team_settings_modal--settingsOnlyCloseButton--r1V-e":"team_settings_modal--settingsCloseButton--nkdXd",onClose:()=>tA(e.dispatch,e.team,e.viewOnClose)})]})}let tT="TEAM_SETTINGS_MODAL";function tS({onRetry:e}){let t=(0,m.Hb)();return(0,s.jsxs)(l.$y,{variant:"warn",children:[(0,s.jsx)(o.Q,{title:(0,g.t)("general.root_error_boundary_title"),children:t.error?.message}),(0,s.jsx)(d.$,{onClick:e,children:(0,g.t)("auth.try_again")})]})}let tA=(e,t,a)=>{e(N.sf(a))},tw=(0,eb.Ju)(function(e){let t=(0,r.wA)(),a=n.useRef(null),[i,l]=n.useState(-1),o=ep.h.useTrackingContext({trigger:eh.b.TEAM_SETTINGS_MODAL}),{canAdmin:d,canEdit:u,canView:m,entryView:g}=e,x=e.teamSettingsProps,f=(0,r.d4)(e=>e.teams[x.team.id]),v=(0,r.d4)(e=>e.avatarEditorState);if(n.useEffect(()=>{t(em.um())},[t]),n.useEffect(()=>{f&&t(tI({teamId:f.id,canViewTeam:m??!1}))},[m,t,f]),!f)return null;let b=c.rr,y=b?window.innerWidth:Math.min(.7*window.innerWidth,650),j=b?window.innerWidth:Math.max(y,i),I=d?(0,s.jsx)(ey.FL,{entity:f,entityType:ef.ck.TEAM,avatarEditorState:v,size:80,dispatch:t,avatarSvg:tb.A,svgSizeRatio:.6}):(0,s.jsx)(h.nl,{team:f,size:80,avatarSvg:tb.A,svgSizeRatio:.6});return(0,s.jsx)(e_.fu,{name:"Team Settings Modal",properties:{teamId:f.id,...o},children:(0,s.jsxs)(ej.d_,{popStack:!0,size:j,height:b?window.innerHeight:.8*window.innerHeight,className:b?"team_settings_modal--fullScreenModal--tXKWs team_settings_modal--modal--MGDMF modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E":"team_settings_modal--modalNoPadding--G-piu team_settings_modal--modal--MGDMF modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E",modalRef:a,onHide:()=>tA(t,f,g),children:[(0,s.jsx)(tE,{selectedTab:e.tab,setTab:e=>{t(C.hm({type:tT,data:{tab:e,canAdmin:d,canEdit:u,canView:m,teamSettingsProps:x,entryView:g}}));let s="team"===g.view?{view:"team",teamId:f.id,teamViewTab:"SETTINGS"===e?ev.A$.SETTINGS:ev.A$.MEMBERS}:g;t(N.sf(s));let n=a.current;n&&(n.scrollTop=0)},dispatch:t,isMobile:b,contentWidth:y,setToolbarWidth:l,team:f,viewOnClose:g,canEditTeam:u??!1}),(0,s.jsxs)("div",{className:"team_settings_modal--modalBody--NruoE",children:[(0,s.jsx)("div",{className:"team_settings_modal--avatarContainer--xDqae",children:I}),"SETTINGS"===e.tab&&(0,s.jsx)(e_.fu,{name:"Team Settings",children:(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)("div",{className:"x1bpp3o7",children:(0,s.jsx)(p.kt,{})}),children:(0,s.jsx)("div",{className:"team_settings_modal--settingsContainer--rJ9jC",children:(0,s.jsx)(tv,{teamId:x.team.id,team:f,billing:x.billing})})})}),"MEMBERS"===e.tab&&(0,s.jsxs)("div",{className:"team_settings_modal--membersContainer--dci-C",children:[(0,s.jsx)(eN,{team:f,canAdmin:d}),(0,s.jsx)(_,{boundaryKey:"members-list",loadingFallback:(0,s.jsx)("div",{className:"x1bpp3o7",children:(0,s.jsx)(p.kt,{})}),errorFallback:e=>(0,s.jsx)(tS,{onRetry:e}),children:(0,s.jsx)(ed,{teamId:f.id})})]})]})]})})},tT,eb.ZU.YES)},606725:(e,t,a)=>{a.d(t,{S:()=>d});var s=a(486106),n=a(303541),r=a(398386),i=a(707808),l=a(529989),o=a(95197);function d(e){let t=(e=>{switch(e){case i.Ft.PROJECT:return(0,n.t)("file_browser.project");case i.Ft.TEAM:return(0,n.t)("file_browser.team");case i.Ft.WORKSPACE:return(0,n.t)("file_browser.workspace");case i.Ft.LICENSE_GROUP:return(0,n.t)("file_browser.billing_group");default:return(0,n.t)("file_browser.unavailable_view_resource")}})(e.resourceType),a=(e=>{switch(e){case i.Ft.PROJECT:return(0,n.t)("file_browser.project_capitalized");case i.Ft.TEAM:return(0,n.t)("file_browser.team_capitalized");case i.Ft.WORKSPACE:return(0,n.t)("file_browser.workspace_capitalized");case i.Ft.LICENSE_GROUP:return(0,n.t)("file_browser.billing_group_capitalized");default:return(0,n.t)("file_browser.unavailable_view_resource_capitalized")}})(e.resourceType),d=(0,s.jsxs)("div",{className:"unavailable_view--unavailableViewContainer--GTj3V",children:[(0,s.jsx)("div",{className:"unavailable_view--header---62Pr text--fontPos18--rYXJb text--_fontBase--QdLsd",children:(0,n.tx)("file_browser.unavailable_view_resource_not_found",{capitalizedResourceNoun:a})}),(0,s.jsx)("div",{className:"unavailable_view--detailText--eAn5- text--fontPos14--OL9Hp text--_fontBase--QdLsd",children:(0,n.tx)("file_browser.unavailable_view_text",{resourceNoun:t})}),(0,s.jsx)(l.NuxOnboardingOverlay,{entryPoint:o.C5.FileBrowserUnavailableView})]});return(0,s.jsx)(r.r,{content:d})}},876838:(e,t,a)=>{a.d(t,{q:()=>x,V:()=>f});var s=a(7378),n=a(514228),r=a(807535),i=a(601108),l=a(663269),o=a(553831),d=a(303541),c=a(302958),u=a(845611),m=(e=>(e.AdminUpgradeEmail="admin_upgrade_email",e.UnknownDeeplink="unknown_deeplink",e))(m||{}),_=a(609392),p=a(43951),g=a(281010);let h={approvalRequestId:"approvalRequestId",entryPoint:"entryPoint"};async function x(e,t){try{let a=await (0,o.Ek)(p.s7T,{requestId:e}),s=(0,l.oA)(a.accountTypeRequest);if(!s){v(t,(0,d.t)("admin_dashboard.requests.not_found"));return}if("pending"!==s.status){t(c.F.enqueue({message:(0,d.t)("admin_dashboard.requests.this_request_has_already_been_handled"),type:s?.status==="approved"?"requests-approved":"requests-denied"}));return}return s}catch(e){v(t)}}function f(){let e=(0,n.wA)(),[t,a]=(0,s.useState)(!1),[l,o]=(0,s.useState)(),d=(0,i.k)().one_click_approve_on_recents;(0,s.useEffect)(()=>{async function t(t){let s=await x(t,e);s?o(s):a(!0)}if(!d)return;let s=(0,_.QL)(h.approvalRequestId);s&&((0,_.EM)(h.approvalRequestId),t(s))},[e,d]),(0,s.useEffect)(()=>{async function s(t){let s=(0,_.QL)(h.entryPoint),n=(0,r.K)(m,s||"")??m.UnknownDeeplink,i=(0,r.K)(u.ps,t.planType)||u.ps.TEAM;try{let a=await g.w.approveRequests({plan_id:t.planId,plan_type:i,selection_method:u.Xv.DEEPLINK,included_request_ids:[t.id],entry_point:n});if(200===a.status){let a=t.requestableOrgUser?.user?.name??t.requestableTeamUser?.user?.name??"";b(e,a)}else v(e)}catch(t){v(e)}finally{a(!0),(0,_.EM)(h.entryPoint)}}d&&l&&!t&&s(l)},[l,e,t,d])}let v=(e,t)=>{e(c.F.enqueue({message:t||(0,d.t)("admin_dashboard.requests.error_generic"),error:!0}))},b=(e,t)=>{let a=t?(0,d.t)("admin_dashboard.requests.success_approve_with_name",{requesterName:t}):(0,d.t)("admin_dashboard.requests.success_approve_multiple",{numRequests:1});e(c.F.enqueue({message:a,type:"requests-approved"}))}},405965:(e,t,a)=>{a.d(t,{dr:()=>c,eb:()=>u,oU:()=>m});var s=a(7378),n=a(566371),r=a(43951),i=a(713695),l=a(345997),o=a(915142),d=a(557142);function c(e){let[t]=(0,n.IT)((0,r.GyZ)({teamId:e}));return(0,s.useMemo)(()=>t.transform(e=>(0,o.X)(e)),[t])}function u(e){let[t]=(0,n.IT)((0,r.H1b)({teamId:e}));return(0,s.useMemo)(()=>t.transform(e=>(0,o.SN)(e)??[]),[t])}function m({teamId:e,teamPermissions:t,initialValue:a}){let n=i.M4.Team.useValue(e).data,r=(0,s.useCallback)(e=>a||(!(0,l.w5)(n)&&e?d.e6.EDITOR:d.e6.VIEWER),[a,n]),[o,c]=(0,s.useState)(()=>r(!!t?.canEdit));return(0,s.useEffect)(()=>{c(r(!!t?.canEdit))},[t?.canEdit,r]),{default:r(!!t?.canEdit),inviteLevel:o,setInviteLevel:c}}},80578:(e,t,a)=>{a.d(t,{Z:()=>h});var s=a(7378),n=a(514228);if(443==a.j)var r=a(465776);var i=a(288654),l=a(723791),o=a(303541),d=a(302958);if(443==a.j)var c=a(230712);var u=a(156213),m=a(191312),_=a(43951),p=a(465071);let g=e=>{switch(e){case m.sm.APPROVED:return(0,o.t)("resource_connection.visual_bell.already_approved");case m.sm.DENIED:return(0,o.t)("resource_connection.visual_bell.already_denied");case m.sm.REVOKED:return(0,o.t)("resource_connection.visual_bell.already_revoked");case m.sm.PENDING:return;default:(0,r.xb)(e)}};function h(e){var t;let[a,r]=(0,s.useState)((t=e||"",/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))?e:void 0),o=(0,n.wA)(),h=(0,p.T5)("useOpenResourceConnectionReviewModal").unwrapOr(null),x=(0,i.Rs)(_.XPZ,{resourceConnectionInviteId:a},{enabled:!!a}),f=(0,s.useMemo)(()=>{let e=(0,l.oA)(x.data?.resourceConnectionInvite);return e&&{resourceConnectionInvite:{...e,resourceName:e.projectLimitedInfo?.name||"",hostInviter:{name:e.hostInviterPublic?.name||"",imgUrl:e.hostInviterPublic?.userPublicImgUrl||null},hostPlan:{name:e.hostPlanName,imgUrl:e.hostPlanImageUrl,type:e.hostPlanType},connectingPlan:{name:e.connectingPlanName,type:e.connectingPlanType}}}},[x]);return(0,s.useCallback)(()=>{if(a&&f&&h&&f?.resourceConnectionInvite.connectingPlanId===h.key.parentId){if(f?.resourceConnectionInvite.status===m.sm.PENDING)o(u.to({type:c.d,data:f}));else{let e=g(f?.resourceConnectionInvite.status);e&&o(d.F.enqueue({message:e}))}r(void 0)}},[f,o,h,a])}},207203:(e,t,a)=>{a.d(t,{Bk:()=>u,Pe:()=>c});var s=a(465776),n=a(165054),r=a(11),i=a(557142),l=a(508958),o=a(143028);let d=(0,l.x1)(i.rT,e=>({id:e.camel(),pending:e.camel(),user_id:e.camel(),level:e.camel(),resource_id_or_key:e.rename("resourceId"),resource_type:e.camel(),created_at:e.camel().custom({toLiveGraph:e=>new Date(e),toSinatra:e=>e.toISOString()}),updated_at:e.camel().stringToDate(),realtime_token:e.drop(),org_user:e.drop(),team_user:e.drop(),user:e.drop()}));function c(e,t){(e.pending||null===e.userId)&&((0,r.$D)(n.e.FRONTEND_PLATFORM,Error("toSinatraConfirmedRole received a pending or null user_id"),{extra:{pending:e.pending,userId:e.userId}}),(0,s.KF)(!1,"toSinatraConfirmedRole received a pending or null user_id"));let a=d.toSinatra(e),i=o.W.toSinatra(t);return{...a,pending:!1,user_id:a.user_id||"",resource_type:a.resource_type,user:i}}function u(e,t){e.pending&&null===e.userId||((0,r.$D)(n.e.FRONTEND_PLATFORM,Error("toSinatraPendingRole received a non-pending or non-null user_id"),{extra:{pending:e.pending,userId:e.userId}}),(0,s.KF)(!1,"toSinatraPendingRole received a non-pending or non-null user_id"));let a=d.toSinatra(e);return{...a,pending:!0,user_id:null,resource_type:a.resource_type,user:t}}(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()])},143028:(e,t,a)=>{a.d(t,{W:()=>n});var s=a(508958);let n=(0,s.uR)()(e=>({id:e.camel(),name:e.camel().custom({toLiveGraph:e=>e,toSinatra:e=>e||""}),handle:e.camel(),img_url:e.camel(),email:e.camel().custom({toLiveGraph:e=>e,toSinatra:e=>e||""}),description:e.camel(),org_id:e.drop(),appData:e.drop(),auto_open_in_desktop:e.drop(),backup_codes:e.drop(),can_sell_on_community:e.drop(),cmty_buyer_tos_accepted_at:e.drop(),cmty_seller_capabilities:e.drop(),color_profile:e.drop(),community_beta_at:e.drop(),community_blocked_at:e.drop(),community_commenting_blocked_at:e.drop(),community_profile_handle:e.drop(),community_profile_id:e.drop(),community_purchasing_blocked_at:e.drop(),created_at:e.drop(),delete_user_loading:e.drop(),dev_tokens:e.drop(),drafts_folder_id:e.drop(),email_validated_at:e.drop(),experiment_assignments:e.drop(),external_restricted_org_id:e.drop(),google_sso_only:e.drop(),has_content_from_other_plans:e.drop(),has_passed_visual_compliance:e.drop(),hub_file_publishing_blocked_at:e.drop(),job_title:e.drop(),job_title_source:e.drop(),keyboard_layout:e.drop(),locale:e.drop(),mfa_setup_token:e.drop(),mouse_scroll_to_zoom:e.drop(),oauth_tokens:e.drop(),password_token:e.drop(),personal_drafts_folder_id:e.drop(),phone_number:e.drop(),phone_token:e.drop(),plans:e.drop(),plugin_publishing_blocked_at:e.drop(),profile:e.drop(),realtime_token:e.drop(),realtime_token_inactive:e.drop(),right_click_drag_to_pan:e.drop(),saml_sso_only:e.drop(),screenreader_enabled:e.drop(),sharing_restricted:e.drop(),signup_locale:e.drop(),stripe_account_status:e.drop(),student_validated_at:e.drop(),temp_phone:e.drop(),track_tags:e.drop(),two_factor_app_enabled:e.drop(),two_factor_secret_loaded:e.drop(),unsubscribed_at:e.drop(),usage_purpose:e.drop(),utc_offset:e.drop()}));(0,s.xi)((e,t,a)=>[e()(n),t(n)(),a(n)()]),(0,s.xi)((e,t,a)=>[e()(n),t(n)(),a(n)()])},747039:(e,t,a)=>{a.d(t,{S:()=>r});var s=a(181241),n=a(910117);let r=new class{constructor(){this.AssetTransferSchemaValidator=(0,s.vh)(),this.OrgTeamTransfersSchemaValidator=(0,s.vh)(),this.TeamTransferSchemaValidator=(0,s.vh)(),this.FolderTransferSchemaValidator=(0,s.vh)()}getAssetTransfer(e){return this.AssetTransferSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/${e.selectedAssetTransferRequest}`))}getOrgTeamTransfers(e){return this.OrgTeamTransfersSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/org_team_transfers/${e.orgId}`))}getTeamTransfer(e){return this.TeamTransferSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/team_transfer/${e.teamId}`))}getFolderTransfer(e){return this.FolderTransferSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/folder_transfer/${e.folderId}`))}deleteAssetTransferRequest(e){return n.Ay.del(`/api/asset_transfer/${e.id}`)}approveAssetTransferRequest(e){return n.Ay.put(`/api/asset_transfer/${e.id}/approve`,{remove_collaborators:e.removeCollaborators})}}},529989:(e,t,a)=>{a.r(t),a.d(t,{NuxOnboardingOverlay:()=>v});var s=a(486106),n=a(7378),r=a(514228),i=a(27355),l=a(207101),o=a(985254),d=a(768691),c=a(621515),u=a(33126),m=a(579169),_=a(940356),p=a(268271),g=a(931419),h=a(14910),x=a(98947),f=a(6204);function v(e){let t=(0,i.md)(u.eS),a=(0,r.wA)(),v=!!(0,_.f)("not_gen_0"),b=(0,i.md)(m.NT),y=(0,i.md)(m.g5),j=(0,i.md)(x.pC),{show:I,complete:E,isShowing:T}=(0,c.e)({overlay:f.j0N,priority:p.N.HIGH_PRIORITY_MODAL},[b,y,t]),S=n.useCallback(()=>{I({canShow:(e,t,a)=>!j&&function({jobTitle:e,emailValidatedAt:t,isK12SSOOrg:a}){return a?!(e&&["student","educator"].includes(e)):!(0,h.d)({jobTitle:e,emailValidatedAt:t})}({jobTitle:e,emailValidatedAt:t,isK12SSOOrg:a})})},[I,j]);if((0,l.h)(()=>{S()}),(0,d.Q)(T),!T)return null;let{trackingContextName:A,testId:w}=t.data?{trackingContextName:"K12 Org Job Title Modal",testId:"NuxOnboardingOverlay-K12"}:v?{trackingContextName:"Gen1 Welcome Modal",testId:"NuxOnboardingOverlay-Gen1"}:{trackingContextName:"Gen 0 NUX",testId:"NuxOnboardingOverlay-Gen0"};return(0,s.jsx)(g.b,{isGen1:v,trackingContextName:A,entryPoint:e.entryPoint,isShowing:T,dataTestId:w,onOverlayClose:()=>{a(o.b({welcome_onboarded:!0})),E()}})}},869669:(e,t,a)=>{a.d(t,{F:()=>p,j:()=>x});var s=a(486106),n=a(27355),r=a(207101),i=a(303541),l=a(621515),o=a(545877),d=a(268271),c=a(425180),u=a(11928),m=a(858282),_=a(6204);let p="sc_team_creation_modal_onboarding_key",g="seen_sharing_clarity_team_creation_modal_overlay",h=(0,o.r1)(g);function x(){let e=(0,n.md)(h),{show:t,isShowing:a,complete:o}=(0,l.e)({overlay:_.jkr,priority:d.N.DEFAULT_MODAL},[e]);return(0,r.h)(()=>{t({canShow:e=>!e})}),(0,s.jsx)(c.rq,{arrowPosition:m.F_.LEFT_TITLE,description:(0,s.jsx)("p",{children:(0,i.tx)("rcs.sharing_clarity.team_creation_modal_description")}),disableHighlight:!0,emphasized:!0,isShowing:a,onClose:o,targetKey:p,title:(0,i.tx)("rcs.sharing_clarity.team_creation_modal_title"),trackingContextName:"Sharing Clarity Team Creation Modal Onboarding",userFlagOnShow:g,zIndex:u.R.MODAL})}},915131:(e,t,a)=>{a.d(t,{Uc:()=>K,MF:()=>Y});var s=a(486106),n=a(7378),r=a(514228),i=a(656233),l=a(909590),o=a(493196),d=a(270045),c=a(865071),u=a(601108),m=a(449184),_=a(416935),p=a(288654),g=a(637027),h=a(858013),x=a(714743),f=a(589278),v=a(303541),b=a(748726),y=a(14223),j=a(156213),I=a(831799),E=a(475472),T=a(372672),S=a(191312),A=a(43951),w=a(336853),N=a(12796),C=a(915142),R=a(465071),k=a(913057),q=a(557142),O=a(630077),L=a(247093),M=a(761870),P=a(102752),D=a(393279),F=a(805373),B=a(869669),U=a(519092),G=a(907616),V=a(986349),$=a(154112);let W="team_creation_modal--sectionHeader--WhxZn text--fontPos11--2LvXf text--_fontBase--QdLsd",z="team_creation_modal--flexRow---ZX7J";var H=a(38542);function Q(e){let t=(0,r.wA)(),a=(0,r.d4)(e=>e.contacts),n=(0,r.d4)(e=>e.orgDomains),i=(0,r.d4)(e=>e.orgById),l=(0,r.d4)(e=>e.dropdownShown),o=(0,r.d4)(e=>e.autocomplete),d=(0,T.iZ)(),c=t=>{let a=e.currentOrgId?i[e.currentOrgId]:null;return(0,C.t9)(t,a,n)},m=t=>{let s=e.currentOrgId?i[e.currentOrgId]:null,r=(0,u.k)().team_creation_restricted_guests_err_ui&&s?.invite_whitelist_guest_invite_setting!=null;return(0,C.yI)(t,a.usersByEmail[t]||t,s,n,d.email,r?(0,v.t)("team_creation.restricted_against_adding_external_users"):null)},_=[q.e6.ADMIN,q.e6.EDITOR,q.e6.VIEWER];return e.inviteLevel&&e.onInviteLevelChange?(0,s.jsx)(D.e,{SearchResultComponent:V.o6,TokenComponent:V.gy,autocomplete:o,dispatch:t,dropdownKey:"permissions-invite-dropdown",dropdownShown:l,getSearchResults:t=>(0,k.Wj)(t,a.usersByEmail,d,[],e.currentOrgId,null,null,{inviteLevel:e.inviteLevel,source:"team-invite-bar"}),getSelectText:N.C1,getTokenIdentifier:e=>(0,w.Ts)(e.content)?e.content.email:e.content,inviteLevel:e.inviteLevel,joinLinkShown:!1,onInviteLevelChange:e.onInviteLevelChange,options:_,placeholderText:(0,v.t)("team_creation.add_a_name_or_email"),searchResultToken:c,shouldAutoFocus:!0,validateToken:m,validateTokensAsEmail:!0}):(0,s.jsx)(D.e,{SearchResultComponent:V.o6,TokenComponent:V.gy,autocomplete:o,dispatch:t,dropdownShown:l,getSearchResults:t=>(0,k.Wj)(t,a.usersByEmail,d,[],e.currentOrgId,null,null,{inviteLevel:e.inviteLevel,source:"team-invite-bar"}),getTokenIdentifier:e=>(0,w.Ts)(e.content)?e.content.email:e.content,inviteLevel:e.permissionLevel,joinLinkShown:!1,searchResultToken:c,shouldAutoFocus:!0,validateToken:m})}function Y(e,t){return e===G._9.ORG?t===G.J4.EDIT?S.PQ.ORG_EDIT:S.PQ.ORG_VIEW:e===G._9.WORKSPACE?t===G.J4.EDIT?S.PQ.WORKSPACE_EDIT:S.PQ.WORKSPACE_VIEW:S.PQ.INVITE_ONLY}let K=(0,P.Ju)(function(e){let t=(0,r.wA)(),a=(0,r.d4)(e=>e.currentUserOrgId)??"",N=(0,r.d4)(e=>e.orgById)[a],C=(0,T.iZ)(),k=(0,r.d4)(e=>e.orgDomains),[P,D]=n.useState(!0);(0,n.useEffect)(()=>{(0,m.sx)("team_creation_started",{user_id:C?.id??"",org_id:a})},[]),(0,n.useEffect)(()=>{t(y.um())},[t]);let V=(0,p.Rs)((0,A.Lqr)({orgId:a})),K=(0,R.D6)("TeamCreationModal"),X=(0,R.j_)(K).unwrapOr(!1),J=(0,n.useMemo)(()=>{if("loaded"===V.status){let e=V.data.org?.workspaces?.filter(e=>e.canCreateTeam)??[];return(0,i.KQ)(e,"name"),e}return[]},[V]),Z=(0,n.useMemo)(()=>{if("loaded"===V.status){let e=V.data.currentUser.baseOrgUser?.workspaceUsers?.filter(e=>e.isMainWorkspace);return e&&e.length>0?e[0].workspaceId:L.O}return null},[V]),ee=e.workspaceId,et=J.find(e=>e.id===ee),ea=et&&et.orgAccess===S.bU.SECRET?S.bU.PRIVATE:S.bU.PUBLIC,es=et&&et.orgAccess===S.bU.SECRET?G._9.INVITE_ONLY:G._9.ORG,en=(0,n.useMemo)(()=>("loading"!==V.status&&D(!1),"loaded"===V.status)?V.data.currentUser.baseOrgUser:null,[V]),[er,ei]=n.useState(0),[el,eo]=n.useState(ea);(0,n.useEffect)(()=>{eo(ea)},[ea]);let ed=S.sC.EDIT,[ec,eu]=n.useState(q.e6.EDITOR),[em,e_]=n.useState(e?.workspaceId??Z),ep=(0,u.k)().sc_workspace_audience,eg=n.useCallback(e=>{let t=J.find(t=>t.id===e);if(ep&&t)return{id:t.id,name:t.name,imgUrl:t.imgUrl}},[J,ep]),[eh,ex]=n.useState(eg(em));(0,n.useEffect)(()=>{e_(e=>e??Z),ex(eg(em))},[Z,em,eg]);let ef=(0,r.d4)(e=>e.autocomplete),ev=!!ef.errorMessage,[eb,ey]=n.useState(G.J4.VIEW),[ej,eI]=n.useState(O.Fb.ORG_BROWSABLE),[eE,eT]=n.useState(es);(0,n.useEffect)(()=>{eT(es)},[es]);let[eS,eA]=n.useState(""),[ew,eN]=n.useState(""),eC=(0,R.X$)("TeamCreationModal").transform(e=>e.tier===S.Ag.ENTERPRISE).unwrapOr(!1)&&J.length>0;(X||Z===L.O)&&J.length>0&&(J=J.concat({id:L.O,name:(0,v.t)("team_creation.unassigned_workspace"),canCreateTeam:!0,orgAccess:S.bU.PUBLIC,imgUrl:null}));let eR=(0,n.useId)(),ek=(0,u.k)().fpl_textarea_migration?(0,s.jsx)(l.T,{onChange:eN,value:ew,placeholder:(0,v.t)("team_creation.optional"),id:eR}):(0,s.jsx)(g.ks,{className:"team_creation_modal--descriptionInput--cLVf4",type:"textarea",onChange:e=>eN(e.target.value),value:ew,placeholder:(0,v.t)("team_creation.optional"),id:eR}),eq=e=>(0,s.jsx)("div",{className:"team_creation_modal--workspaceIcon--s7G4E",children:e&&e.id!==L.O?(0,s.jsx)(F.z6,{entity:e,size:16}):(0,s.jsx)(x.B,{svg:H.A})}),eO=(0,s.jsxs)(o.bL,{value:em??L.O,onChange:e=>e_(e??L.O),children:[(0,s.jsx)(o.l9,{label:(0,s.jsx)(d.h,{children:(0,v.t)("team_creation.workspace")}),size:"lg",width:"fill",children:(0,s.jsx)("div",{className:"team_creation_modal--workspaceSelectorTrigger--rUsd4",id:"create-team-modal-workspace-selector",children:(0,s.jsxs)("div",{className:z,children:[(0,s.jsx)("div",{children:eq(J.find(e=>e.id===em))}),(0,s.jsx)("div",{children:J.find(e=>e.id===em)?.name??""})]})})}),(0,s.jsx)(o.mc,{children:J.map(e=>(0,s.jsx)(o.c$,{value:e.id,children:(0,s.jsxs)("div",{className:z,children:[eq(e),e.name]})},e.id))})]}),eL=(0,n.useId)(),eM=(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(g.ks,{autoFocus:!0,className:"team_creation_modal--teamNameInputSC--bbcKV","data-testid":"team_creation_modal_title",id:eL,maxLength:O.qg,minLength:1,onChange:e=>eA(e.target.value),placeholder:(0,v.t)("team_creation.writer_s_guild_placeholder"),required:!0,value:eS})});function eP(){let{onSubmitReturnToPrevView:a=!0}=e,s=ec??q.e6.EDITOR;t((0,E.KQ)({teamName:eS,orgAccess:el,workspaceId:em??void 0,dontRedirect:!a,inviteEmails:(0,M.Z)(ef),defaultPermission:ed,description:ew,sharingAudienceControl:Y(eE,eb),orgBrowsable:eE===G._9.INVITE_ONLY&&ej===O.Fb.ORG_BROWSABLE,hidden:eE===G._9.INVITE_ONLY&&ej===O.Fb.HIDDEN,inviteLevel:s})),e.afterSubmit&&e.afterSubmit(),t(j.Lo())}function eD(){t(j.Lo()),t(b.cL())}return(0,s.jsx)(I.fu,{name:"Team Creation",children:(0,s.jsx)(U.OJ,{title:1===er?(0,v.t)("team_creation.add_people_to_team_name",{teamName:eS}):(0,v.t)("team_creation.org_modal_title_sc"),onClose:eD,maxWidth:480,children:(0,s.jsxs)("div",{className:f.s.m16.$,children:[0===er?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Ay,{className:W,htmlFor:eL,children:(0,v.t)("team_creation.name")}),eM,(0,s.jsx)(c.Ay,{className:W,htmlFor:eR,children:(0,v.t)("team_creation.team_description")}),ek,eC&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:W,children:(0,v.t)("team_creation.workspace")}),eO]}),(0,s.jsx)("div",{className:W,children:(0,v.t)("team_creation.who_has_access")}),(0,s.jsx)(B.j,{}),(0,s.jsx)(G.YU,{resourceType:S.vt.TEAM,value:eE,onChange:eT,org:N,audienceAccessLevel:eb,workspace:eh,dataOnboardingKey:B.F}),(0,s.jsx)("div",{className:W,children:(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{children:eE===G._9.INVITE_ONLY?(0,v.t)("team_creation.visibility"):(0,v.t)("team_creation.what_they_can_do")}),eE===G._9.INVITE_ONLY?(0,s.jsx)(G.Kd,{selectedDiscoverability:ej,setSelectedDiscoverability:eI}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(G.Iz,{selectedPermissionsLevel:eb,setSelectedPermissionsLevel:ey}),(0,s.jsx)("div",{className:"team_creation_modal--subtitle--j8wZc text--fontPos11--2LvXf text--_fontBase--QdLsd",children:eb===G.J4.VIEW?(0,v.t)("team_creation.can_view_and_comment"):(0,v.t)("team_creation.can_create_and_edit_files")})]})]})})]}):P?(0,s.jsx)("div",{className:"team_creation_modal--modalSecondStep--L-6u-",children:(0,s.jsx)("div",{className:"team_creation_modal--loadingState--y80el",children:(0,s.jsx)(h.qc,{})})}):(0,s.jsx)("div",{children:(0,s.jsx)(Q,{permissionLevel:ed,currentOrgId:a,currentOrgUser:en,inviteLevel:ec,onInviteLevelChange:eu})}),(0,s.jsxs)("div",{className:"team_creation_modal--bottomRow--IWTyZ",children:[(0,s.jsx)("div",{className:"team_creation_modal--footer--EAx7f team_creation_modal--subtitle--j8wZc text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,v.tx)("team_creation.step_number_of_max_steps",{currentStep:er+1,maxSteps:2})}),(0,s.jsxs)("div",{className:"team_creation_modal--buttons--jSrKt",children:[(0,s.jsx)(g.tM,{onClick:eD,children:(0,v.tx)("project_creation.cancel")}),(0,s.jsx)(g.vd,{onClick:function(){if(0===er)ei(1);else{let e=N&&N.domain_capture&&k.domains.length>0?(0,M.Z)(ef).filter(e=>(0,_.xf)(e)&&!(0,w.H_)(k.domains,e)):[];e.length>0?function(e){if(N?.invite_whitelist_guest_invite_setting==null&&e.length>0){t(j.to({type:$.F,data:{emails:e,onConfirm:()=>{eP()},popStack:!0,orgName:N.name}}));return}}(e):eP()}},disabled:0===er&&0===eS.trim().length||1===er&&ev,children:0===er?(0,v.tx)("general.continue"):(0,v.tx)("team_creation.create_team")})]})]})]})})})},"TEAM_CREATION_MODAL",P.ZU.YES)},331328:(e,t,a)=>{a.d(t,{dW:()=>T,nH:()=>S});var s=a(486106),n=a(7378),r=a(514228),i=a(437088),l=a(38914),o=a(272243),d=a(601108),c=a(637027),u=a(858013),m=a(303541),_=a(748726),p=a(156213),g=a(831799),h=a(475472),x=a(405965),f=a(191312),v=a(630077),b=a(102752),y=a(915131),j=a(907616),I=a(733703),E=a(538002);let T=(0,b.Ju)(function(e){let t=(0,r.wA)(),a=(0,x.dr)(e.team.id).data,n=a&&a.workspace?{id:a.workspace.id,name:a.workspace.name,imgUrl:a.workspace.imgUrl}:void 0,d=()=>{t(p.Ce()),t(_.cL())},c=i.hS({...e,onClose:d});return(0,s.jsx)(g.fu,{name:"Team Access Modal",properties:{resourceType:f.vt.TEAM,resourceId:e.team.id},children:(0,s.jsx)(l.bL,{manager:c,width:"lg",children:(0,s.jsxs)(o.vo,{children:[(0,s.jsx)(o.Y9,{children:(0,s.jsx)(o.hE,{children:e.goBack?(0,s.jsx)(I.w,{title:(0,m.t)("team_view.team_permissions_modal.access_settings"),onClick:e.goBack}):(0,s.jsx)("div",{className:E.DA,children:(0,s.jsx)("p",{children:(0,m.tx)("team_view.team_permissions_modal.access_settings")})})})}),(0,s.jsx)(o.nB,{children:a?a.org&&(0,s.jsx)(S,{team:e.team,org:a.org,teamSharingSettings:a.teamSharingSettings,hideModal:d,workspace:n}):(0,s.jsx)(u.qc,{className:E.Lq})})]})})})},"TeamAccessModal");function S(e){let t=(0,d.k)().sc_workspace_audience,a=(0,r.wA)(),i=n.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===f.PQ.ORG_EDIT||t===f.PQ.ORG_VIEW?j._9.ORG:t===f.PQ.WORKSPACE_EDIT||t===f.PQ.WORKSPACE_VIEW?j._9.WORKSPACE:j._9.INVITE_ONLY},[e.teamSharingSettings]),l=n.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.orgBrowsable,a=e.teamSharingSettings&&e.teamSharingSettings.hidden;if(t);else if(a)return v.Fb.HIDDEN;return v.Fb.ORG_BROWSABLE},[e.teamSharingSettings]),o=n.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===f.PQ.ORG_EDIT||t===f.PQ.WORKSPACE_EDIT?j.J4.EDIT:(t===f.PQ.ORG_VIEW||f.PQ.WORKSPACE_VIEW,j.J4.VIEW)},[e.teamSharingSettings]),[u,_]=n.useState(i()),[p,g]=n.useState(l()),[x,b]=n.useState(o()),I=u===j._9.INVITE_ONLY?p&&(0,s.jsx)("div",{className:E.$2,children:(0,s.jsx)(j.Kd,{selectedDiscoverability:p,setSelectedDiscoverability:g})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.Iz,{selectedPermissionsLevel:x,setSelectedPermissionsLevel:b}),(0,s.jsx)("div",{className:E.VA,children:x===j.J4.VIEW?(0,m.t)("team_creation.can_view_and_comment"):(0,m.t)("team_creation.can_create_and_edit_files")})]});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:E.bV,children:(0,m.t)("team_creation.who_has_access")}),(0,s.jsx)(j.YU,{resourceType:f.vt.TEAM,value:u,onChange:_,org:e.org,audienceAccessLevel:x,workspace:t?e.workspace:void 0}),(0,s.jsx)("div",{className:E.bV,children:u===j._9.INVITE_ONLY?(0,m.t)("team_creation.visibility"):(0,m.t)("team_creation.what_they_can_do")}),I,(0,s.jsxs)("div",{className:E.E_,children:[(0,s.jsx)(c.tM,{onClick:e.goBack||e.hideModal,children:(0,m.tx)("project_creation.cancel")}),(0,s.jsx)(c.vd,{onClick:()=>{let t=u===j._9.INVITE_ONLY&&p===v.Fb.ORG_BROWSABLE,s=u===j._9.INVITE_ONLY&&p===v.Fb.HIDDEN,n=(0,y.MF)(u,x);if(a((0,h.zK)({team:e.team,sharingAudienceControl:n,orgBrowsable:t,hidden:s})),e.goBack){e.goBack();return}e.hideModal()},children:(0,m.tx)("team_view.team_permissions_modal.save")})]})]})}},815584:(e,t,a)=>{a.d(t,{c:()=>g});var s=a(486106),n=a(7378),r=a(514228),i=a(437088),l=a(38914),o=a(272243),d=a(521428),c=a(63728),u=a(637027),m=a(303541),_=a(984674),p=a(156213);function g(e){let t=(0,r.wA)();return(0,s.jsx)(h,{...e,open:!0,onClose:()=>t(p.Lo())})}function h(e){let{title:t,subtitle:a,initialName:g,maxLength:h,onRename:x,placeholder:f,submitText:v,allowEmptyString:b}=e,y=(0,r.wA)(),[j,I]=n.useState(g),E=t??(0,m.t)("resource_rename_modal.title",{initialName:g}),T=i.hS({open:e.open,onClose:e.onClose}),S=()=>{y(p.Lo())},A=()=>!b&&""===j.trim()||j.trim()===g.trim(),w=()=>{A()||(x(j),S())};return(0,s.jsx)(l.bL,{manager:T,width:"md",children:(0,s.jsxs)(o.vo,{children:[(0,s.jsx)(o.Y9,{children:(0,s.jsx)(o.hE,{children:E})}),(0,s.jsxs)(o.nB,{scrolling:"none",children:[a,(0,s.jsx)(u.ks,{autoFocus:!0,className:"resource_rename_modal--input--lUTNz",maxLength:h,placeholder:f,onChange:e=>I(e.currentTarget.value),value:j,onKeyDown:e=>{e.keyCode===c.Uz.ENTER&&(e.preventDefault(),w())}}),h&&(0,s.jsx)("div",{className:"resource_rename_modal--lengthCount--n2dbN",children:(0,s.jsx)(_.E,{color:"secondary",children:(0,m.tx)("resource_rename_modal.lengthCount",{currentLength:j.length,maxLength:h})})})]}),(0,s.jsx)(o.wi,{children:(0,s.jsxs)(o.jk,{children:[(0,s.jsx)(d.$n,{onClick:S,variant:"secondary",children:(0,m.tx)("resource_rename_modal.cancel")}),(0,s.jsx)(d.$n,{variant:"primary",disabled:A(),onClick:w,children:v})]})})]})})}},650793:(e,t,a)=>{a.d(t,{VU:()=>g,cd:()=>u,jT:()=>p,zx:()=>m});var s=a(486106);if(443==a.j)var n=a(860955);if(443==a.j)var r=a(125993);var i=a(964520),l=a(617427),o=a(303541),d=a(370443),c=a(527041);function u({children:e}){return(0,s.jsx)("div",{className:c.Hv,children:e})}function m({dataOnboardingKey:e,children:t}){let{getTriggerProps:a,manager:i}=n.b(),{isOpen:u}=i;return(0,s.jsxs)(n.bL,{manager:i,"data-testid":"multi-select-list-menu",children:[(0,s.jsx)("div",{className:u?void 0:c.Ib,children:(0,s.jsx)(l.Me,{...a(),"aria-label":(0,o.t)("multi_select_list.more"),"data-testid":"multi-select-list-menu-cell-icon","data-onboarding-key":e,trackingProperties:{trackingDescriptor:d.c.MORE},children:(0,s.jsx)(r.J,{})})}),(0,s.jsx)(n.mc,{children:t})]})}function _({children:e}){return(0,s.jsx)("div",{className:c.oi,"data-testid":"multi-select-list-icon-column",children:e})}function p(){return(0,s.jsx)(l.Me,{"aria-label":(0,o.t)("multi_select_list.manage"),trackingProperties:{trackingDescriptor:d.c.MANAGE},children:(0,s.jsx)(i.a,{})})}let g={name:"chevron-right",className:c.oi,cellComponent:(e,{isClickable:t})=>(0,s.jsx)(_,{children:t?(0,s.jsx)(p,{}):null})}},90195:(e,t,a)=>{a.d(t,{EK:()=>x,Fd:()=>h,aN:()=>g,wT:()=>u});var s=a(27355),n=a(989992),r=a(330108),i=a(270322),l=a(88768),o=a(642025),d=a(329496);let c=(0,i.bt)(e=>{if("loaded"!==e.orgTeams.status)return n.Qw.loading();let t=e.orgTeams.teams.filter(t=>t.org_id===e.currentUserOrgId);return n.Qw.loaded(t)}),u=(0,s.yu)(c,({target:e})=>{let t=e.getStore();return t.getState().orgTeams.status||t.dispatch(r.Jt({})),()=>{t.dispatch(r.MT())}}),m=(0,i.bt)(e=>(0,o.getPermissionsStateMemoized)(e)),_=(0,s.eU)(e=>{let t=e(u),a=e(m);return t.transform(e=>e.filter(e=>(0,l.ox)(e,a)))}),p=(0,s.eU)(e=>e(_).transform(e=>(0,d.ZM)(e))),g=(0,s.Iz)(e=>(0,s.eU)(t=>t(p).transform(t=>t[e]??0))),h=(0,s.eU)(e=>e(_).transform(e=>e.filter(e=>null===e.workspace_id||void 0===e.workspace_id))),x=(0,s.yu)(c,({target:e})=>{let t=e.getStore();return t.getState().orgTeams.status||t.dispatch(r.Jt({includeMemberCount:!0,includeProjectCount:!0,includeTopMembers:!1})),()=>{t.dispatch(r.MT())}})},434813:(e,t,a)=>{a.d(t,{u:()=>o});var s=a(486106),n=a(590952),r=a(129884),i=a(54182);let l=n.Pf.MEDIUM20;function o(e){let t=e.users.slice(0,e.numAvatarsToDisplay),a=e.users.slice(e.numAvatarsToDisplay);1===a.length&&t.push(a.pop());let o=a.slice(0,25).map(e=>e.handle).join("\n");return(0,s.jsxs)("div",{className:"avatars_pile--viewersList--nxwgy",children:[e.totalNum-t.length>0&&(0,s.jsx)("div",{className:"avatars_pile--horizontalPileNumber--6h3zK avatars_pile--baseNumber--Qqq-z","data-tooltip-type":r.Ib.TEXT,"data-tooltip":o,children:e.totalNum-t.length}),t.reverse().map(t=>(0,s.jsx)("div",{className:"avatars_pile--avatar--6RPYa",children:(0,s.jsx)(i.W,{user:t,children:(0,s.jsx)(n.H8,{user:t,size:e.avatarSize?e.avatarSize:l})})},t.id))]})}},513456:(e,t,a)=>{a.d(t,{v:()=>n});var s=a(486106);let n=(0,a(7378).memo)(function(e){return(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,s.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9 5.5a.5.5 0 0 1 1 0V6h4v-.5a.5.5 0 0 1 1 0V6h1.5A1.5 1.5 0 0 1 18 7.5v9a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 6 16.5v-9A1.5 1.5 0 0 1 7.5 6H9zM14 7v.5a.5.5 0 0 0 1 0V7h1.5a.5.5 0 0 1 .5.5V9H7V7.5a.5.5 0 0 1 .5-.5H9v.5a.5.5 0 0 0 1 0V7zm-7 3v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V10z",clipRule:"evenodd"})})})}}]);

//# debugId=7b9b4475-9b51-56f5-b0b4-b0e82e74cf88

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/03584d68094ef67d664086eefa3ab23602f30257/4452-8135afe852798003.min.js.map